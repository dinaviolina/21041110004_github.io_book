<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Quarto CRC Book - 1&nbsp; Klasifikasi Firewall</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<!-- <link href="./summary.html" rel="next"> -->
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./21041110004_DinaViolina_Firewall.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Klasifikasi Firewall</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
       
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21041110004_DinaViolina_Firewall.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Klasifikasi Firewall</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 

  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#business-understanding" id="toc-business-understanding" class="nav-link active" data-scroll-target="#business-understanding"><span class="header-section-number">1.1</span> 1. Business Understanding</a></li>
  <li><a href="#data-understanding" id="toc-data-understanding" class="nav-link" data-scroll-target="#data-understanding"><span class="header-section-number">1.2</span> 2. Data Understanding</a>
  <ul class="collapse">
  <li><a href="#deskripsi-fitur" id="toc-deskripsi-fitur" class="nav-link" data-scroll-target="#deskripsi-fitur"><span class="header-section-number">1.2.1</span> Deskripsi Fitur</a></li>
  <li><a href="#jenis-jenis-data" id="toc-jenis-jenis-data" class="nav-link" data-scroll-target="#jenis-jenis-data"><span class="header-section-number">1.2.2</span> Jenis-jenis data</a></li>
  <li><a href="#eksplorasi-data-awal" id="toc-eksplorasi-data-awal" class="nav-link" data-scroll-target="#eksplorasi-data-awal"><span class="header-section-number">1.2.3</span> Eksplorasi Data Awal</a></li>
  <li><a href="#describe-data" id="toc-describe-data" class="nav-link" data-scroll-target="#describe-data"><span class="header-section-number">1.2.4</span> Describe data</a></li>
  <li><a href="#duplikat-data" id="toc-duplikat-data" class="nav-link" data-scroll-target="#duplikat-data"><span class="header-section-number">1.2.5</span> Duplikat data</a></li>
  <li><a href="#missing-value" id="toc-missing-value" class="nav-link" data-scroll-target="#missing-value"><span class="header-section-number">1.2.6</span> Missing value</a></li>
  <li><a href="#deteksi-outlier" id="toc-deteksi-outlier" class="nav-link" data-scroll-target="#deteksi-outlier"><span class="header-section-number">1.2.7</span> Deteksi Outlier</a></li>
  <li><a href="#proporsi-data" id="toc-proporsi-data" class="nav-link" data-scroll-target="#proporsi-data"><span class="header-section-number">1.2.8</span> Proporsi data</a></li>
  </ul></li>
  <li><a href="#preprocessing" id="toc-preprocessing" class="nav-link" data-scroll-target="#preprocessing"><span class="header-section-number">1.3</span> 3. Preprocessing</a>
  <ul class="collapse">
  <li><a href="#menghapus-duplikat-data" id="toc-menghapus-duplikat-data" class="nav-link" data-scroll-target="#menghapus-duplikat-data"><span class="header-section-number">1.3.1</span> Menghapus Duplikat data</a></li>
  <li><a href="#menghapus-outlier-data" id="toc-menghapus-outlier-data" class="nav-link" data-scroll-target="#menghapus-outlier-data"><span class="header-section-number">1.3.2</span> Menghapus Outlier Data</a></li>
  <li><a href="#balancing-data" id="toc-balancing-data" class="nav-link" data-scroll-target="#balancing-data"><span class="header-section-number">1.3.3</span> Balancing Data</a></li>
  <li><a href="#encoder" id="toc-encoder" class="nav-link" data-scroll-target="#encoder"><span class="header-section-number">1.3.4</span> Encoder</a></li>
  <li><a href="#fiture-selection" id="toc-fiture-selection" class="nav-link" data-scroll-target="#fiture-selection"><span class="header-section-number">1.3.5</span> Fiture Selection</a></li>
  <li><a href="#split-dataset" id="toc-split-dataset" class="nav-link" data-scroll-target="#split-dataset"><span class="header-section-number">1.3.6</span> Split Dataset</a></li>
  <li><a href="#normalisasi" id="toc-normalisasi" class="nav-link" data-scroll-target="#normalisasi"><span class="header-section-number">1.3.7</span> Normalisasi</a></li>
  </ul></li>
  <li><a href="#modelling" id="toc-modelling" class="nav-link" data-scroll-target="#modelling"><span class="header-section-number">1.4</span> 4. Modelling</a>
  <ul class="collapse">
  <li><a href="#random-forest" id="toc-random-forest" class="nav-link" data-scroll-target="#random-forest"><span class="header-section-number">1.4.1</span> Random Forest</a></li>
  <li><a href="#decision-tree" id="toc-decision-tree" class="nav-link" data-scroll-target="#decision-tree"><span class="header-section-number">1.4.2</span> Decision Tree</a></li>
  <li><a href="#logistic-regression" id="toc-logistic-regression" class="nav-link" data-scroll-target="#logistic-regression"><span class="header-section-number">1.4.3</span> Logistic Regression</a></li>
  <li><a href="#svm" id="toc-svm" class="nav-link" data-scroll-target="#svm"><span class="header-section-number">1.4.4</span> SVM</a></li>
  <li><a href="#naive-bayes" id="toc-naive-bayes" class="nav-link" data-scroll-target="#naive-bayes"><span class="header-section-number">1.4.5</span> Naive Bayes</a></li>
  <li><a href="#mendapatkan-model-terbaik" id="toc-mendapatkan-model-terbaik" class="nav-link" data-scroll-target="#mendapatkan-model-terbaik"><span class="header-section-number">1.4.6</span> Mendapatkan Model Terbaik</a></li>
  </ul></li>
  <li><a href="#evaluasi-model" id="toc-evaluasi-model" class="nav-link" data-scroll-target="#evaluasi-model"><span class="header-section-number">1.5</span> 4. Evaluasi Model</a>
  <ul class="collapse">
  <li><a href="#akurasi-accuracy" id="toc-akurasi-accuracy" class="nav-link" data-scroll-target="#akurasi-accuracy"><span class="header-section-number">1.5.1</span> 1. Akurasi (Accuracy)</a></li>
  <li><a href="#precission" id="toc-recall" class="nav-link" data-scroll-target="#recall"><span class="header-section-number">1.5.2</span> 2. Precission</a></li>
  <li><a href="#recall" id="toc-recall" class="nav-link" data-scroll-target="#recall"><span class="header-section-number">1.5.3</span> 3. Recall</a></li>
  <li><a href="#support" id="toc-support" class="nav-link" data-scroll-target="#support"><span class="header-section-number">1.5.4</span> 4. Support</a></li>
  <li><a href="#f1--score" id="toc-f1--score" class="nav-link" data-scroll-target="#f1--score"><span class="header-section-number">1.5.5</span> 5. F1- Score</a></li>
  <li><a href="#classification-report" id="toc-classification-report" class="nav-link" data-scroll-target="#classification-report"><span class="header-section-number">1.5.6</span> Classification Report</a></li>
  </ul></li>
  <li><a href="#deployment" id="toc-deployment" class="nav-link" data-scroll-target="#deployment"><span class="header-section-number">1.6</span> Deployment</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Klasifikasi Firewall</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Project setelah UTS</p>
<p>Nama : Dina Violina</p>
<p>NIM : 210411100004</p>
<p>Kelas : Proyek Sains Data (B)</p>
<section id="business-understanding" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="business-understanding"><span class="header-section-number">1.1</span> 1. Business Understanding</h2>
<p>Tujuan :</p>
<p>Untuk melakukan klasifikasi prediksi jaringan data yang dikirim dari jaringan komputer, outputnya 4 yaitu allow” yang berarti diizinkan, “deny” berarti ditolak, “drop” berarti dibuang, “reset-both” berati setel ulang. Sehingga hasil dari klasifikasi ini akan mengidentifikasi prediksi sebuah jaringan firewall tersebut memiliki reaksi action apa.</p>
<p>Untuk menentukan prediksi firewall harus mengetahui ciri-ciri sebagai berikut : - Source Port - Destination Port - NAT source port - Bytes - Bytes sent - Bytes Received - Packets - Elapsed Time (sec) - pkts_sent - pkts_received</p>
</section>
<section id="data-understanding" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="data-understanding"><span class="header-section-number">1.2</span> 2. Data Understanding</h2>
<p>Dataset berupa kumpulan data log jaringan yang dikumpulkan oleh organisasi swasta. Log lalu lintas jaringan dikumpulkan dari tanggal 18 hingga 27 Mei 2021. catatan log yang digunakan diambil dari firewall yang digunakan oleh organisasi. Internet diakses oleh banyak orang tanpa terkecuali hacker dan cracker. Dengan alasan tertentu mereka melakukan penyusupan yang dapat merugikan para pemilik server dan jaringan komputer. Salah satu tools yang dapat digunakan untuk melakukan tindakan preventif terhadap serangan jaringan komputer dengan menggunakan firewall. Firewall adalah sistem keamanan jaringan yang membatasi akses yang tidak sah ke jaringan dan melindungi sistem dan data dari seragan eksternal. Tujuan firewall menciptakan keamanan koneksi antara jaringan pribadi dan jaringan internet.</p>
<p>. ### Mengidentifikasi jumlah data Mengidentifikasi jumlah data merupakan langkah awal untuk memahami skala dataset yang akan kita lakukan pengolahan. Dengan mengetahui jumlah baris (observasi) dan kolom (fitur) atau gambaran umum tentang ukuran data. Jumlah dataset sebanyak 65532 dengan rincian sebagai berikut : Pada fitur atau kolom Action terdapat 4 output sebagai berikut : - allow 37640 - deny 14987 - drop 12851 - reset-both 54</p>
<p>import modul yang akan digunakan</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy <span class="im">import</span> stats</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pickle</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> LabelEncoder</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler, MinMaxScaler</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> accuracy_score</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LogisticRegression</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.svm <span class="im">import</span> SVC</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestClassifier</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.tree <span class="im">import</span> DecisionTreeClassifier</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.naive_bayes <span class="im">import</span> GaussianNB</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># variabel data digunakan untuk menyimpan data yang dipanggil menggunakan library pandas.</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">'firewall.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-outputid="0ae5ca94-a39f-465c-bd36-3135738d5382" data-scrolled="true" data-execution_count="8">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Source Port</th>
<th data-quarto-table-cell-role="th">Destination Port</th>
<th data-quarto-table-cell-role="th">NAT Source Port</th>
<th data-quarto-table-cell-role="th">NAT Destination Port</th>
<th data-quarto-table-cell-role="th">Action</th>
<th data-quarto-table-cell-role="th">Bytes</th>
<th data-quarto-table-cell-role="th">Bytes Sent</th>
<th data-quarto-table-cell-role="th">Bytes Received</th>
<th data-quarto-table-cell-role="th">Packets</th>
<th data-quarto-table-cell-role="th">Elapsed Time (sec)</th>
<th data-quarto-table-cell-role="th">pkts_sent</th>
<th data-quarto-table-cell-role="th">pkts_received</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>57222</td>
<td>53</td>
<td>54587</td>
<td>53</td>
<td>allow</td>
<td>177</td>
<td>94</td>
<td>83</td>
<td>2</td>
<td>30</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>56258</td>
<td>3389</td>
<td>56258</td>
<td>3389</td>
<td>allow</td>
<td>4768</td>
<td>1600</td>
<td>3168</td>
<td>19</td>
<td>17</td>
<td>10</td>
<td>9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>6881</td>
<td>50321</td>
<td>43265</td>
<td>50321</td>
<td>allow</td>
<td>238</td>
<td>118</td>
<td>120</td>
<td>2</td>
<td>1199</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>50553</td>
<td>3389</td>
<td>50553</td>
<td>3389</td>
<td>allow</td>
<td>3327</td>
<td>1438</td>
<td>1889</td>
<td>15</td>
<td>17</td>
<td>8</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>50002</td>
<td>443</td>
<td>45848</td>
<td>443</td>
<td>allow</td>
<td>25358</td>
<td>6778</td>
<td>18580</td>
<td>31</td>
<td>16</td>
<td>13</td>
<td>18</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">65527</td>
<td>63691</td>
<td>80</td>
<td>13237</td>
<td>80</td>
<td>allow</td>
<td>314</td>
<td>192</td>
<td>122</td>
<td>6</td>
<td>15</td>
<td>4</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">65528</td>
<td>50964</td>
<td>80</td>
<td>13485</td>
<td>80</td>
<td>allow</td>
<td>4680740</td>
<td>67312</td>
<td>4613428</td>
<td>4675</td>
<td>77</td>
<td>985</td>
<td>3690</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">65529</td>
<td>54871</td>
<td>445</td>
<td>0</td>
<td>0</td>
<td>drop</td>
<td>70</td>
<td>70</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">65530</td>
<td>54870</td>
<td>445</td>
<td>0</td>
<td>0</td>
<td>drop</td>
<td>70</td>
<td>70</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">65531</td>
<td>54867</td>
<td>445</td>
<td>0</td>
<td>0</td>
<td>drop</td>
<td>70</td>
<td>70</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>65532 rows × 12 columns</p>
</div>
</div>
</div>
<div class="cell" data-scrolled="true" data-execution_count="9">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>jumlah_data <span class="op">=</span> data.shape[<span class="dv">0</span>]</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Jumlah Data Firewall :"</span>, jumlah_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Jumlah Data Firewall : 65532</code></pre>
</div>
</div>
<p>Identifikasi setiap target kelas didapatkam Allow menjadi kelas yang paling dominan karena hasilnya lebih tinggi dan memiliki jarak perbedaan yang jauh pada target kelas lainnya. Sehingga, pada data ini jika langsung dilakukan pengolahan klasifikasi akan mendapatkan hasil yang tidak sesuai atau terjadi kesalahan prediksi. Untuk menangani hal seperti ini perlu dilakukan balancing data untuk memberikan keseimbangan nilai yang dihasilkan.</p>
<div class="cell" data-outputid="c610aafd-4b9c-457f-cd6d-45f9448a0352" data-execution_count="10">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>action_counts <span class="op">=</span> data[<span class="st">'Action'</span>].value_counts()</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sebaran kelas target pada kolom Action"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(action_counts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sebaran kelas target pada kolom Action
allow         37640
deny          14987
drop          12851
reset-both       54
Name: Action, dtype: int64</code></pre>
</div>
</div>
<section id="deskripsi-fitur" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="deskripsi-fitur"><span class="header-section-number">1.2.1</span> Deskripsi Fitur</h3>
<p>Internet Firewall Data Pada dataset ini terdapat 12 fitur dengan jumlah data sebanyak 65532.</p>
<ol type="1">
<li><p>Source Port :Port sumber yang digunakan dalam koneksi jaringan. Port ini menunjukkan port yang digunaakan oleh komputer atau perangkat untuk mengirimkan paket data.</p></li>
<li><p>Destination Port : Port tujuan dalam koneksi jaringan. Port ini menunjukkan port yang dituju oleh komputer atau perangkat penerima untuk menerima paket data.</p></li>
<li><p>NAT source port : Port sumber Network Address Trnslation (NAT) yang digunakan dalam koneksi jaringan. NAT adalah teknik yang digunakan untuk mengalihkan alamat IP atau port dalam paket data untuk menghubungkan beberapa perangkat ke internet dengan satu alamat IP.</p></li>
<li><p>NAT destination port : Port tujuan NAT yang digunakan dalam koneksi jaringan. Ini adalah port tujuan setelah melalui proses NAT.</p></li>
<li><p>Action : Kolom target yang akan diprediksi dalam pemodelan. Nilai-nilai di kolom ini menunjukkan tindakan yang diambil dalam koneksi jaringan, dengan target “allow” yang berarti diizinkan, “deny” berarti ditolak, “drop” berarti dibuang, “reset-both” berarti setel ulang.</p></li>
<li><p>Bytes : Jumlah total byte dalam koneksi jaringan. Hal ini mengukur besarnya data yang ditransmisikan dalam koneksi tersebut.</p></li>
<li><p>Bytes sent :Jumlah byte yang dikirim dalam koneksi jaringan. Kolom ini mengukur besarnya data yang dikirim dari sumber ke tujuan.</p></li>
<li><p>Bytes Received : Jumlah byte yang diterima dalam koneksi jaringan. Ini mengukur besarnya data yang diterima oleh penerima.</p></li>
<li><p>Packets : Jumlah total paket data yang dikirim dalam koneksi jaringan. Paket adalah unit data yang dikirim dalam jaringan.</p></li>
<li><p>Elapsed Time (sec) : Waktu yang dibutuhkan dalam koneksi jaringan, diukur dengan satuan detik. Kolom ini menunjukkan durasi dari koneksi.</p></li>
<li><p>pkts_sent : Kolom yang berisi jumlah paket data yang dikirim dalam koneksi jaringan.</p></li>
<li><p>pkts_received : Kolom yang berisi jumlah paket data yang diterima dalam koneksi jaringan.</p></li>
</ol>
</section>
<section id="jenis-jenis-data" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="jenis-jenis-data"><span class="header-section-number">1.2.2</span> Jenis-jenis data</h3>
<p>Berdasarkan skala ukur dapat dibedakan menjadi 4 jenis sebagai berikut : 1. Nominal</p>
<p>Jenis data nominal yaitu data hanya mengandung unsur penamaan. Pada pengolahan data ini, jenis data nominal terdapat pada kolom Cation yang terdiri dari allow, denny, drop, dan reset-both tanpa urutan tertentu. 2. Ordinal</p>
<p>Data ordinal adalah data yang memiliki tingkatan atau peringkat, namun jarak antara nilai-nilainya tidak terdefinisi secara jelas. Contoh : tingkat pendidikan SD, SMP,SMA, Sarjana, Magister, Doktor 3. Interval</p>
<p>Data interval adalah data yang memiliki tingkatan atau peringkat dengan jarak antar nilai yang terdefinisi secara konsisten. Meskipun memiliki nol mutlak, tetapi nol tersebut tidak memiliki arti mutlak (mis. suhu di Celcius atau Fahrenheit). Contoh: Jika terdapat kolom Elapsed Time (sec) yang menyatakan waktu dalam detik. 4. Rasio</p>
<p>Data rasio memiliki tingkatan atau peringkat dengan jarak antar nilai yang terdefinisi secara konsisten dan memiliki nol mutlak yang memiliki arti mutlak. Data rasio memungkinkan operasi matematika seperti penambahan, pengurangan, perkalian, dan pembagian. Contoh : Kolom yang memiliki jenis data rasio pada data firewall ini adalah kolom Bytes, Bytes Sent, Bytes Received, Packets, dan pkts_sent.</p>
<div class="cell" data-outputid="7522525d-43e5-4699-fa56-8417bba34cc1" data-execution_count="11">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># jumlah fitur dari data</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>data.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>(65532, 12)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># nama-nama fitur pada data</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>data.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>Index(['Source Port', 'Destination Port', 'NAT Source Port',
       'NAT Destination Port', 'Action', 'Bytes', 'Bytes Sent',
       'Bytes Received', 'Packets', 'Elapsed Time (sec)', 'pkts_sent',
       'pkts_received'],
      dtype='object')</code></pre>
</div>
</div>
<p>Mengetahui tipe data dari masing-masing kolom atau fitur.</p>
<div class="cell" data-outputid="a93026cd-9dc2-4e92-a54c-635310b1e06b" data-execution_count="13">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>data.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>Source Port              int64
Destination Port         int64
NAT Source Port          int64
NAT Destination Port     int64
Action                  object
Bytes                    int64
Bytes Sent               int64
Bytes Received           int64
Packets                  int64
Elapsed Time (sec)       int64
pkts_sent                int64
pkts_received            int64
dtype: object</code></pre>
</div>
</div>
</section>
<section id="eksplorasi-data-awal" class="level3" data-number="1.2.3">
<h3 data-number="1.2.3" class="anchored" data-anchor-id="eksplorasi-data-awal"><span class="header-section-number">1.2.3</span> Eksplorasi Data Awal</h3>
<p>Eksplorasi data awal merupakan langkah penting dalam memahami karakteristik dataset. Salah satu cara untuk melakukan eksplorasi data adalah dengan melakukan penggrafikan fitur (feature visualization)atau visualisasi ciri-ciri atau fitur dari dataset dengan grafik. Pada eksplorasi data firewall ini menggunakan visualisasi data menggunakan grafik batang, scatter plot, line plot, dan diagram lingkaran.</p>
<div class="cell" data-outputid="f0f458a6-f886-4596-91f7-019b92dd3bc8" data-scrolled="true" data-execution_count="10">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">4</span>, ncols<span class="op">=</span><span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">15</span>))</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>fig.tight_layout(pad<span class="op">=</span><span class="fl">3.0</span>)  <span class="co"># Menambahkan ruang antar subplot</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Menggunakan loop untuk membuat dan menampilkan histogram</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, ax <span class="kw">in</span> <span class="bu">enumerate</span>(axes.flatten()):</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">&lt;</span> <span class="bu">len</span>(data.columns):  <span class="co"># Pastikan indeks tidak melebihi jumlah kolom data</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> data[data.columns[i]].dtype <span class="op">==</span> <span class="st">'object'</span> <span class="kw">or</span> data[data.columns[i]].dtype <span class="op">==</span> <span class="st">'int64'</span>:</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>            data[data.columns[i]].hist(ax<span class="op">=</span>ax)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>            ax.set_title(<span class="ss">f'Histogram </span><span class="sc">{</span>data<span class="sc">.</span>columns[i]<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Menampilkan grafik</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="21041110004_DinaViolina_Firewall_files/figure-html/cell-10-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-outputid="d3f7193b-e472-4ebe-af40-2a9168131d6d" data-execution_count="11">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>action_counts <span class="op">=</span> data[<span class="st">'Action'</span>].value_counts()</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Membuat grafik batang</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>plt.bar(action_counts.index, action_counts.values)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Action'</span>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Jumlah'</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Jumlah Kasus berdasarkan Action'</span>)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="21041110004_DinaViolina_Firewall_files/figure-html/cell-11-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-outputid="e35b00c0-3123-4432-d899-d4722642f9fa" data-execution_count="12">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>plt.hist(data[<span class="st">'Bytes'</span>], bins<span class="op">=</span><span class="dv">20</span>, color<span class="op">=</span><span class="st">'skyblue'</span>, edgecolor<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Bytes'</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frekuensi'</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Distribusi Bytes'</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="21041110004_DinaViolina_Firewall_files/figure-html/cell-12-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-outputid="f21ae36c-c720-48c0-b44e-8fb63fecf6a0" data-execution_count="13">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>plt.scatter(data[<span class="st">'Bytes Sent'</span>], data[<span class="st">'Bytes Received'</span>], alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Bytes Sent'</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Bytes Received'</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Scatter Plot Bytes Sent vs Bytes Received'</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="21041110004_DinaViolina_Firewall_files/figure-html/cell-13-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-outputid="f1e38c66-a3f6-4f36-8f37-e57f728d1cbd" data-execution_count="14">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>action_counts <span class="op">=</span> data[<span class="st">'Action'</span>].value_counts()</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>plt.pie(action_counts, labels<span class="op">=</span>action_counts.index, autopct<span class="op">=</span><span class="st">'</span><span class="sc">%1.1f%%</span><span class="st">'</span>, colors<span class="op">=</span>[<span class="st">'lightcoral'</span>, <span class="st">'lightblue'</span>, <span class="st">'lightgreen'</span>])</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Persentase Data berdasarkan Action'</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="21041110004_DinaViolina_Firewall_files/figure-html/cell-14-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-outputid="f24dab33-4d0a-4400-a02b-621681589187" data-execution_count="15">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>plt.boxplot(data[<span class="st">'Bytes'</span>], vert<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Bytes'</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Box Plot Bytes'</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="21041110004_DinaViolina_Firewall_files/figure-html/cell-15-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-outputid="d2dd65b9-4597-4bfd-9bb5-cc5e4beb8a3f" data-scrolled="true" data-execution_count="14">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>data.info()</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>data.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 65532 entries, 0 to 65531
Data columns (total 12 columns):
 #   Column                Non-Null Count  Dtype 
---  ------                --------------  ----- 
 0   Source Port           65532 non-null  int64 
 1   Destination Port      65532 non-null  int64 
 2   NAT Source Port       65532 non-null  int64 
 3   NAT Destination Port  65532 non-null  int64 
 4   Action                65532 non-null  object
 5   Bytes                 65532 non-null  int64 
 6   Bytes Sent            65532 non-null  int64 
 7   Bytes Received        65532 non-null  int64 
 8   Packets               65532 non-null  int64 
 9   Elapsed Time (sec)    65532 non-null  int64 
 10  pkts_sent             65532 non-null  int64 
 11  pkts_received         65532 non-null  int64 
dtypes: int64(11), object(1)
memory usage: 6.0+ MB</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Source Port</th>
<th data-quarto-table-cell-role="th">Destination Port</th>
<th data-quarto-table-cell-role="th">NAT Source Port</th>
<th data-quarto-table-cell-role="th">NAT Destination Port</th>
<th data-quarto-table-cell-role="th">Action</th>
<th data-quarto-table-cell-role="th">Bytes</th>
<th data-quarto-table-cell-role="th">Bytes Sent</th>
<th data-quarto-table-cell-role="th">Bytes Received</th>
<th data-quarto-table-cell-role="th">Packets</th>
<th data-quarto-table-cell-role="th">Elapsed Time (sec)</th>
<th data-quarto-table-cell-role="th">pkts_sent</th>
<th data-quarto-table-cell-role="th">pkts_received</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>57222</td>
<td>53</td>
<td>54587</td>
<td>53</td>
<td>allow</td>
<td>177</td>
<td>94</td>
<td>83</td>
<td>2</td>
<td>30</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>56258</td>
<td>3389</td>
<td>56258</td>
<td>3389</td>
<td>allow</td>
<td>4768</td>
<td>1600</td>
<td>3168</td>
<td>19</td>
<td>17</td>
<td>10</td>
<td>9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>6881</td>
<td>50321</td>
<td>43265</td>
<td>50321</td>
<td>allow</td>
<td>238</td>
<td>118</td>
<td>120</td>
<td>2</td>
<td>1199</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>50553</td>
<td>3389</td>
<td>50553</td>
<td>3389</td>
<td>allow</td>
<td>3327</td>
<td>1438</td>
<td>1889</td>
<td>15</td>
<td>17</td>
<td>8</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>50002</td>
<td>443</td>
<td>45848</td>
<td>443</td>
<td>allow</td>
<td>25358</td>
<td>6778</td>
<td>18580</td>
<td>31</td>
<td>16</td>
<td>13</td>
<td>18</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="describe-data" class="level3" data-number="1.2.4">
<h3 data-number="1.2.4" class="anchored" data-anchor-id="describe-data"><span class="header-section-number">1.2.4</span> Describe data</h3>
<p>Describe data digunakan untuk memberikan nilai statistik deskriptif dari suatu dataframe dari masing-masing fitur dengan hasil sebagai berikut : - Jumlah data (Count) : memberikan informasi tentang jumlah data yang tidak bernilai ‘NaN’ setiap kolom. Jumlah ini mencakup data yang tidak bernilai NaN atau missing Value. - Rata-rata (Mean) : Rata-rata atau mean adalah nilai tengah dari distribusi data. Ini dihitung dengan menjumlahkan semua nilai dan kemudian mdibagi dengan jumlah total dari data. - std (standar deviasi) : Standar deviasi mengukr sejauh mana data tersebar dari rata-rata. Sebaran data, standar deviasi yang tinggi menunjukkan bahwa data cenderung lebih tersebar atau tingkat variabilitas yang lebih besar dalam dataset. - Nilai Minimum (Min) : menunjukkan nilai terkecil pada setiap kolom - 25% atau Q1 : Menunjukkan nilai kuartil pertama menunjukkan nilai yang membagi 25% data terandah. Baris ini memberikan informasi tentang distribusi data di bagian bawah. - 50% : Median atau Q2, adalah nilai yang membagi data menjadi dua bagian setara. Jika data diurutkan, median berada di tengah-tengah. Ini memberikan gambaran tentang pusat distribusi. - 75% atau Q3 : Baris 75% atau kuartil ketiga(Q3) menunjukkan nilai membagi 75% data terendah. Ini memberikan informasi tentang distribusi data di bagian atas. - max : Nilai terbesar dalam setiap kolom. Baris ini memberikan gambaran tentang rentang nilai yang terdapat dalam dataset.</p>
<div class="cell" data-outputid="4106c91a-15b2-4801-e7c8-5245e49b7c9b" data-scrolled="true" data-execution_count="15">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>data.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Source Port</th>
<th data-quarto-table-cell-role="th">Destination Port</th>
<th data-quarto-table-cell-role="th">NAT Source Port</th>
<th data-quarto-table-cell-role="th">NAT Destination Port</th>
<th data-quarto-table-cell-role="th">Bytes</th>
<th data-quarto-table-cell-role="th">Bytes Sent</th>
<th data-quarto-table-cell-role="th">Bytes Received</th>
<th data-quarto-table-cell-role="th">Packets</th>
<th data-quarto-table-cell-role="th">Elapsed Time (sec)</th>
<th data-quarto-table-cell-role="th">pkts_sent</th>
<th data-quarto-table-cell-role="th">pkts_received</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>65532.000000</td>
<td>65532.000000</td>
<td>65532.000000</td>
<td>65532.000000</td>
<td>6.553200e+04</td>
<td>6.553200e+04</td>
<td>6.553200e+04</td>
<td>6.553200e+04</td>
<td>65532.000000</td>
<td>65532.000000</td>
<td>65532.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>49391.969343</td>
<td>10577.385812</td>
<td>19282.972761</td>
<td>2671.049930</td>
<td>9.712395e+04</td>
<td>2.238580e+04</td>
<td>7.473815e+04</td>
<td>1.028660e+02</td>
<td>65.833577</td>
<td>41.399530</td>
<td>61.466505</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>15255.712537</td>
<td>18466.027039</td>
<td>21970.689669</td>
<td>9739.162278</td>
<td>5.618439e+06</td>
<td>3.828139e+06</td>
<td>2.463208e+06</td>
<td>5.133002e+03</td>
<td>302.461762</td>
<td>3218.871288</td>
<td>2223.332271</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>6.000000e+01</td>
<td>6.000000e+01</td>
<td>0.000000e+00</td>
<td>1.000000e+00</td>
<td>0.000000</td>
<td>1.000000</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>49183.000000</td>
<td>80.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>6.600000e+01</td>
<td>6.600000e+01</td>
<td>0.000000e+00</td>
<td>1.000000e+00</td>
<td>0.000000</td>
<td>1.000000</td>
<td>0.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>53776.500000</td>
<td>445.000000</td>
<td>8820.500000</td>
<td>53.000000</td>
<td>1.680000e+02</td>
<td>9.000000e+01</td>
<td>7.900000e+01</td>
<td>2.000000e+00</td>
<td>15.000000</td>
<td>1.000000</td>
<td>1.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>58638.000000</td>
<td>15000.000000</td>
<td>38366.250000</td>
<td>443.000000</td>
<td>7.522500e+02</td>
<td>2.100000e+02</td>
<td>4.490000e+02</td>
<td>6.000000e+00</td>
<td>30.000000</td>
<td>3.000000</td>
<td>2.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>65534.000000</td>
<td>65535.000000</td>
<td>65535.000000</td>
<td>65535.000000</td>
<td>1.269359e+09</td>
<td>9.484772e+08</td>
<td>3.208818e+08</td>
<td>1.036116e+06</td>
<td>10824.000000</td>
<td>747520.000000</td>
<td>327208.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Penjelasan :</p>
<p>Pada data firewall ini, langkah untuk describe data menggunakan fungsi ‘describe’ yang terdapat pada library pandas di python. Dengan menggunakan describe(), akan mempercepat untuk mendapatkan gambaran tentang distribusi dan statistik dasar dari dataset.</p>
</section>
<section id="duplikat-data" class="level3" data-number="1.2.5">
<h3 data-number="1.2.5" class="anchored" data-anchor-id="duplikat-data"><span class="header-section-number">1.2.5</span> Duplikat data</h3>
<p>Melakukan identifikasi data yang error atau inkonsisten. Ketika menemui data duplikat, yang bisa dilakukan adalah memperbaiki dan melakukan penghapusan. Mengidentifikasi data duplikat penting untuk dilakukan pada pengolahan data untuk memastikan integritas data dan hasil analisis yang akurat. Dari data sejumlah 65532 ditemukan jumlah data yang duplikat sebanyak 8362 data. Sehingga, jumlah data duplikat akan dihilangkan pada tahap preprocessing.</p>
<p>Untuk mengetahui nilai duplikat dari dataframe yang disimpan dalam variabel ‘data’ menggunakan : - data.dupicated() : pada dataframe digunakan untuk melakukan identifikasi baris-baris yang duplikat dalam dataset. - sum() : fungsi sum ditulis setelah ‘data.duplicated()’, karena dalam fungsi tersebut telah didapatkan seri boolean. Llau, untuk menjumlahkan nilai ‘True’ . Nilai ‘true’ dianggap setara dengan nilai 1 dan nilai ‘False’ atau yang tidakd uplikat disetarakan dengan nilai 0 dalam operasi penjumlahan. Hasil dari fungsi ‘sum)’ memberikan jumlah baris yang teridefntifikasi sebagai data duplikat.</p>
<ul>
<li>‘jumlah_duplikat’ : variabel ini digunakan untuk menyimpan hasil penjumlahan tersebut, yaitu jumlah baris yang dianggap duplikat dalam dataset.</li>
</ul>
<div class="cell" data-outputid="28130937-8b3c-4d6a-cf31-6143c0b65207" data-execution_count="16">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>jumlah_duplikat <span class="op">=</span> data.duplicated().<span class="bu">sum</span>()</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Jumlah data yang duplikat:"</span>, jumlah_duplikat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Jumlah data yang duplikat: 8362</code></pre>
</div>
</div>
</section>
<section id="missing-value" class="level3" data-number="1.2.6">
<h3 data-number="1.2.6" class="anchored" data-anchor-id="missing-value"><span class="header-section-number">1.2.6</span> Missing value</h3>
<p>Missing value setiap kolom pada dataset perlu dilakukan pengecekan karena memastikan data yang akan digunakan dalam model tidak mengandung nilai yang tidak lengkap. Dari pengecekan data firewall dengan total 65532 data ini tidakk ditemukan missing value. Yang artinya, semua kolom terdapat kelengkapan isian data. Sehingga, pada tahap preprocessing tidak perlu dilakukan penghapusan missing value. Penting untuk menangani nilai yang hilang karena banyak algoritma pembelajaran mesin tidak dapat menangani nilai yang hilang secara langsung.</p>
<div class="cell" data-outputid="7e8a4017-4bc4-400e-adbb-e8970d27bf61" data-scrolled="true" data-execution_count="17">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Menghitung apakah ada nilai yang hilang dalam setiap kolom</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>missing_values <span class="op">=</span> data.isna().<span class="bu">any</span>()</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Apakah ada nilai yang hilang dalam setiap kolom:"</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(missing_values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Apakah ada nilai yang hilang dalam setiap kolom:
Source Port             False
Destination Port        False
NAT Source Port         False
NAT Destination Port    False
Action                  False
Bytes                   False
Bytes Sent              False
Bytes Received          False
Packets                 False
Elapsed Time (sec)      False
pkts_sent               False
pkts_received           False
dtype: bool</code></pre>
</div>
</div>
<p>Penjelasan</p>
<ul>
<li><p>data.isna(), metode ini menghasilkan DatFrame yang telah disimpan sebelumnya dalam variabel data yang berisi nilai boolean yaitu (‘True’ atau ‘False’). Setiap elemen dalam DataFrame menjadi ‘True’ jika elemen teridentifikasi nilai yang hilang atau nilai kosong.</p></li>
<li><p>any : pada pengolahan datadrame boolean untuk menunjukkan apakah setiap kolom terdapat missing value.</p></li>
</ul>
<p>Mengecek baris dengan nilai Null(NaN)</p>
<p>Untuk melakukan penghapusan baris atau kolom yang mengandung nilai null atau NaN dari Data dengan menggunakan dropna(). Diikuti dengan parameter inplace = True, sehingga perubahan akan langsung dilakukan pada DataFrame. Nilai nan akan dihapus dari DatFrame dan perubahan diterapkan langsung pada DatFrame. Namun, jika inplace menggunakan ‘false’ maka metide ini mengembalikan data baru dengan nilai null dihapus dan untuk menyimpannya memerlukan variabel baru. Namun, pada data ini tidak ditemukan data NaN(Not a Number).</p>
<p>Penjelasan :</p>
<ul>
<li><p>Penggunaan data.isna() menghasilkan DataFrame yang ukurannya sama dengan DataFrame asli (data). Nilainya berupa ‘True’ dan ‘False, jika output ’true’ maka data menunjukkan nilai NaN pada posisi yang sesuai tabel diatas. namun, dari hasil pengecekan tersebut semua baris tidak diidentifikasi sebagai nilai NaN sehingga nilainya ‘False’</p></li>
<li><p>sum() digunakan untuk menghitung jumlah nilai ‘True’ atau nilai NaN di setiap kolom</p></li>
</ul>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>data.isna()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Source Port</th>
<th data-quarto-table-cell-role="th">Destination Port</th>
<th data-quarto-table-cell-role="th">NAT Source Port</th>
<th data-quarto-table-cell-role="th">NAT Destination Port</th>
<th data-quarto-table-cell-role="th">Action</th>
<th data-quarto-table-cell-role="th">Bytes</th>
<th data-quarto-table-cell-role="th">Bytes Sent</th>
<th data-quarto-table-cell-role="th">Bytes Received</th>
<th data-quarto-table-cell-role="th">Packets</th>
<th data-quarto-table-cell-role="th">Elapsed Time (sec)</th>
<th data-quarto-table-cell-role="th">pkts_sent</th>
<th data-quarto-table-cell-role="th">pkts_received</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">65527</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">65528</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">65529</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">65530</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">65531</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
</tbody>
</table>

<p>65532 rows × 12 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Jumlah nilai NaN setiap kolom :'</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data.isna().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Jumlah nilai NaN setiap kolom :
Source Port             0
Destination Port        0
NAT Source Port         0
NAT Destination Port    0
Action                  0
Bytes                   0
Bytes Sent              0
Bytes Received          0
Packets                 0
Elapsed Time (sec)      0
pkts_sent               0
pkts_received           0
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="deteksi-outlier" class="level3" data-number="1.2.7">
<h3 data-number="1.2.7" class="anchored" data-anchor-id="deteksi-outlier"><span class="header-section-number">1.2.7</span> Deteksi Outlier</h3>
<p>Kumpulan data yang berisi informasi data yang memiliki nilai atau karakteristik yang menyimpang dari yang lain, dikenal sebagai <em>outlier</em>. <em>Outlier</em> dapat dilakukan penghapusan supaya data lebih akurat karena jika <em>outlier</em> dibiarkan dapat menyebabkan kesimpulan yang tidak akurat dan keputusan yang dihasilkan salah.</p>
<p>Metode penghapusan outlier :</p>
<ul>
<li><ol type="a">
<li>IQE (Interquartile Range) Metode ini menggunakan nilai kuartil rentang antara kuartil pertama(Q1) dan kuartil ketiga(Q3) suatu data dengan melakukan perhitungan IQR(Q3-Q1). Nilai di luar rentang(Q1-1.5<em>IQR) dan (Q3+1.5</em>IQR) dianggap sebagao outlier dan dapat dihapus dari dataset.</li>
</ol></li>
<li><ol start="2" type="a">
<li>Z-Score Metode dengan Z-Score ini dengan melakukan perhitungan skor Z untuk setiap nilai dalam dataset. Nilai dengan skor Z di atas atau di bawah ambang (threshold) tertentu dianggap sebagai outlier dan dapat dilakukan penghapusan.</li>
</ol></li>
<li><ol start="3" type="a">
<li>Transformasi Data(Transformasi Log)</li>
</ol></li>
<li><ol start="4" type="a">
<li>Mengganti Outlier dengan Median</li>
</ol>
Outlier dapat diganti dengan statistik yang lebih kuat seperti median untuk mengurangi dampak yang dihasilkan terhadap analisis. Contoh code: median = np.median( data ) data_tanpa_outliers = np. dimana (( data &lt; batas_bawah) | ( data &gt; batas_atas), median, data )</li>
</ul>
<p>Pada pengolahan data ini deteksi outlier menggunakan Z-Score. Z-Score mengukur seberapa jauh suatu titik data dari mean dalam satuan standar deviasi. Nilai Z-Score yang tinggi atau rendah menunjukkan bahwa titik data tersebut berada jauh dari rata-rata. Berikut adalah tahapan-tahapan deteksi outlier dengan Z-Score:</p>
<p>1.) Hitung rata-rata dan standar deviasi</p>
<ul>
<li>Melakukan perhitungan rata-rata (<span class="math inline">\(\mu\)</span>) dan standar deviasi (<span class="math inline">\(\sigma\)</span>)dari dataset</li>
</ul>
<p>$= $</p>
<p><span class="math inline">\(\sigma = \sqrt\frac{\sum{i=1}^n x_i - \mu}{n}\)</span></p>
<p>2.) Hitung Z-Score untuk setiap data - Hitung Z-score untuk setiap titik data dalam dataset dengan rumus berikut :</p>
<p><span class="math inline">\(Z_i = \frac{x_i -\mu}{\mu}\)</span></p>
<p><span class="math inline">\(x_i\)</span> adalah nilai titik data, <span class="math inline">\(\mu\)</span> adalah rata-rata, dan <span class="math inline">\(\sigma\)</span> adalah standar deviasi.</p>
<p>3.) Tentukan ambang batas(threshold) - Menentukan ambang batas(threshold) yang akan digunakan untuk mengidentifikasi outlier.</p>
<p>4.) Identifikasi outlier - Mengidentifikasi titik data yang memiliki nilai Z-Score di atas atau di bawah nilai ambang batas yang ditentukan sebagai outlier. Titik-titik ini dianggap jauh dari rata-rata dan dianggap sebagai nilai yang tidak biasa dalam dataset.</p>
<p>Contoh implementasi perhitungan manual dengan menggunakan algoritma Z-Score pada data berikut ini:</p>
<span class="math display">\[\begin{array}{ccc}
\hline
X &amp; Y &amp; Z \\
\hline
10 &amp; 25 &amp; 5 \\
\hline
15 &amp;30 &amp; 8\\
\hline
12&amp;35&amp;10 \\
\hline
8 &amp; 22 &amp; 4 \\
\hline
14&amp;40&amp;15 \\
\hline
16&amp;38&amp;12\\
\hline
20&amp;28&amp;18
\end{array}\]</span>
<p><br>
1.) Hitung rata-rata dan standar deviasi</p>
<ul>
<li>Melakukan perhitungan rata-rata (<span class="math inline">\(\mu\)</span>) dan standar deviasi (<span class="math inline">\(\sigma\)</span>)dari dataset</li>
</ul>
<p>$Rata-rata(_X) = = = 14 $</p>
<p>$Standar Deviasi(_X) = = = 3.72 $</p>
<p>$Rata-rata(_Y) = = = 31 $</p>
<p>$Standar Deviasi(_Y) = = = 6.24 $</p>
<p><span class="math inline">\(Rata-rata(\mu_Z) =\frac{\sum{Z}}{n} = \frac{5+8+10+4+15+12+18}{7}= 10.3\)</span></p>
<p>$Standar Deviasi(_Z) = = = 4.7 $</p>
<p>2.) Hitung Z-Score untuk setiap data - Hitung Z-score untuk setiap titik data dalam dataset dengan rumus berikut :</p>
<p><span class="math inline">\(Z_X = \frac{X -\mu_X}{\sigma_X}\)</span></p>
<p><span class="math inline">\(Z_Y = \frac{Y -\mu_Y}{\sigma_Y}\)</span></p>
<p><span class="math inline">\(Z_Z = \frac{Z -\mu_Z}{\sigma_Z}\)</span></p>
<p>3.) Tentukan ambang batas(threshold) - Misalnya, menentukan nilai ambang batas sebagai <span class="math inline">\(\pm 2\)</span> standar deviasi.</p>
<p>4.) Identifikasi outlier</p>
<p><span class="math inline">\(Outlier_X :\)</span> Jika $|Z_x| &gt; $Threshold, maka outlier</p>
<p><span class="math inline">\(Outlier_Y :\)</span> Jika $|Z_x| &gt; $Threshold, maka outlier</p>
<p><span class="math inline">\(Outlier_Z :\)</span> Jika $|Z_x| &gt; $Threshold, maka outlier</p>
<p>5.) Hasil</p>
<table class="table">
<thead>
<tr class="header">
<th>Data point</th>
<th>X</th>
<th>Y</th>
<th>Z</th>
<th><span class="math inline">\(Z_x\)</span></th>
<th><span class="math inline">\(Z_x\)</span></th>
<th><span class="math inline">\(Z_x\)</span></th>
<th>Outlier</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>10</td>
<td>25</td>
<td>5</td>
<td>-1.08</td>
<td>-0.96</td>
<td>-1.11</td>
<td>No</td>
</tr>
<tr class="even">
<td>2</td>
<td>15</td>
<td>30</td>
<td>8</td>
<td>0.27</td>
<td>-0.16</td>
<td>-0.49</td>
<td>No</td>
</tr>
<tr class="odd">
<td>3</td>
<td>12</td>
<td>35</td>
<td>10</td>
<td>-0.54</td>
<td>0.64</td>
<td>-0.06</td>
<td>No</td>
</tr>
<tr class="even">
<td>4</td>
<td>8</td>
<td>22</td>
<td>4</td>
<td>-1.61</td>
<td>-1.44</td>
<td>−1.32</td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>5</td>
<td>14</td>
<td>40</td>
<td>15</td>
<td>0.00</td>
<td>1.44</td>
<td>1.00</td>
<td>No</td>
</tr>
<tr class="even">
<td>6</td>
<td>16</td>
<td>38</td>
<td>12</td>
<td>0.54</td>
<td>1.12</td>
<td>0.36</td>
<td>No</td>
</tr>
<tr class="odd">
<td>7</td>
<td>20</td>
<td>28</td>
<td>18</td>
<td>1.61</td>
<td>-0.48</td>
<td>1.62</td>
<td>No</td>
</tr>
</tbody>
</table>
<p>Pada data point 1 - |<span class="math inline">\(Z_X\)</span>| = |-1.08| = 1.08 tidak melebih threshold, sehingga data point 1 pada fitur X bukan outlier.</p>
<ul>
<li><p>|<span class="math inline">\(Z_Y\)</span>| = |-0.96| = 0.96 tidak melebih threshold, sehingga data point 1 pada fitur Y bukan outlier.</p></li>
<li><p>|$Z_Z| = |-1.11|= 1.11 tdak melebih threshold, sehingga data point 1 pada fitur Z bukan outlier.</p></li>
</ul>
<p>Pada data point 2 - |<span class="math inline">\(Z_X\)</span>| = |0.27| = 0.27 tidak melebihi threshold, sehingga data point 1 pada fitur X bukan outlier.</p>
<ul>
<li><p>|<span class="math inline">\(Z_Y\)</span>| = |-0.16| = 0.16 tidak melebihi threshold, sehingga data point 1 pada fitur Y bukan outlier.</p></li>
<li><p>|$Z_Z| = |-0.49| =0.49 tidak melebihi threshold, sehingga data point 1 pada fitur Z bukan outlier.</p></li>
</ul>
<p>Pada data firewall ini dilakukan deteksi outlier dilakukan pada kolom yang berisi nilai numeric menggunakan ZScore.Deteksi outlier tidak perlu dilakukan di semua kolom atau fitur dalam dataset. Pada datset ini yang dilakukan deteksi outlier adalah pada kolom ‘Bytes’, ‘Bytes Sent’, ‘Bytes Received’, ‘Packets’, ‘Elapsed Time (sec)’, ‘pkts_sent’, ‘pkts_received’ karena pada kolom ini sebagai variabel kuantitatif . Deteksi outlier tersebut didapatkan dengan hasil masing-masing kolom memiliki nilai outlier 1640.</p>
<div class="cell" data-scrolled="true" data-execution_count="21">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>numeric_columns <span class="op">=</span> [<span class="st">'Bytes'</span>, <span class="st">'Bytes Sent'</span>, <span class="st">'Bytes Received'</span>, <span class="st">'Packets'</span>, <span class="st">'Elapsed Time (sec)'</span>, <span class="st">'pkts_sent'</span>, <span class="st">'pkts_received'</span>]</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Menghitung Z-score untuk setiap kolom numerik</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>z_scores <span class="op">=</span> np.<span class="bu">abs</span>(stats.zscore(data[numeric_columns]))</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Menentukan ambang batas Z-score (misalnya, 3)</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>threshold <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Mengidentifikasi indeks baris yang memiliki outlier</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>outlier_indices <span class="op">=</span> np.where(z_scores <span class="op">&gt;</span> threshold)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Mengidentifikasi indeks baris yang memiliki outlier</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>outlier_indices <span class="op">=</span> np.where(z_scores <span class="op">&gt;</span> threshold)</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Indeks baris yang memiliki outlier:"</span>)</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(outlier_indices[<span class="dv">0</span>])</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Nilai outlier untuk setiap kolom:"</span>)</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>outlier_values <span class="op">=</span> data.iloc[outlier_indices[<span class="dv">0</span>]][numeric_columns]</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(outlier_values)</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Jumlah outlier untuk setiap kolom:"</span>)</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>outlier_counts <span class="op">=</span> pd.DataFrame(outlier_values.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.count(), axis<span class="op">=</span><span class="dv">0</span>), columns<span class="op">=</span>[<span class="st">'Outlier Count'</span>])</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(outlier_counts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Indeks baris yang memiliki outlier:
[    2   121   122 ... 65290 65296 65296]
Nilai outlier untuk setiap kolom:
          Bytes  Bytes Sent  Bytes Received  Packets  Elapsed Time (sec)  \
2           238         118             120        2                1199   
121         870         330             540       12                2308   
122     8171028      105740         8065288     6637                 149   
124         481         150             331        2                1200   
335         330         330               0        6                1200   
...         ...         ...             ...      ...                 ...   
65286       481         150             331        2                1199   
65289       118         118               0        1                1199   
65290       324         150             174        2                1201   
65296  11381441      121813        11259628     9309                 119   
65296  11381441      121813        11259628     9309                 119   

       pkts_sent  pkts_received  
2              1              1  
121            6              6  
122          745           5892  
124            1              1  
335            6              0  
...          ...            ...  
65286          1              1  
65289          1              0  
65290          1              1  
65296       1741           7568  
65296       1741           7568  

[1640 rows x 7 columns]
Jumlah outlier untuk setiap kolom:
                    Outlier Count
Bytes                        1640
Bytes Sent                   1640
Bytes Received               1640
Packets                      1640
Elapsed Time (sec)           1640
pkts_sent                    1640
pkts_received                1640</code></pre>
</div>
</div>
<p>Penjelasan : 1. Menghitung Z-score</p>
<pre><code> - Menggunakan stats.zscore dari modul scipy untuk menghhitung Z-score setiap nilai dalam kolom numerik.</code></pre>
<ol start="2" type="1">
<li><p>Menentukan ambang batas</p>
<ul>
<li>Dengan menggunakan ambang batas tertentu digunakan untuk mengidentifikasi outlier. Dalam contoh ini, ambang batas diatur sebagai 3, yang merupakan nilai ambang batas yang umum digunakan.</li>
</ul></li>
<li><p>Mengidentifikasi Indeks Baris dengan Outlier</p>
<ul>
<li>Menggunakan np.where untuk mengidentifikasi indeks baris yang memiliki nilai Z-score melebihi ambang batas. Outlier diidentifikasi jika nilai Z-score melebihi ambang batas.</li>
</ul></li>
<li><p>Menampilkan Indeks Baris dan Nilai Outlier dengan ‘np.where’</p></li>
<li><p>Menghitung dan menampilkan Jumlah Outlier untuk Setiap Kolom:</p>
<ul>
<li><p>Menggunakan apply dan lambda:</p>
<ul>
<li><p>outlier_values.apply(lambda x: x.count(), axis=0) digunakan untuk mengiterasi melalui setiap kolom dalam outlier_values dan menghitung jumlah nilai yang bukan NaN (tidak termasuk nilai yang hilang) dalam setiap kolom.</p></li>
<li><p>pd.DataFrame(…, columns=[‘Outlier Count’]) digunakan untuk membuat DataFrame baru dengan nama kolom “Outlier Count”. Outlier count berisi total dari nilai yang diidentifikasi sebagai oulier dalam kolom tersebut.</p></li>
<li><p>Hasil dari langkah pertama, yaitu jumlah outlier untuk setiap kolom, dimasukkan ke dalam kolom ini.</p></li>
</ul></li>
</ul></li>
</ol>
</section>
<section id="proporsi-data" class="level3" data-number="1.2.8">
<h3 data-number="1.2.8" class="anchored" data-anchor-id="proporsi-data"><span class="header-section-number">1.2.8</span> Proporsi data</h3>
<p>Berdasarkan identifikasi jumlah data pada 4 kelas terdapat ketidakseimbangan data, beberapa kelas memiliki lebih banyak sampel daripada yang lain. Karena ketidakseimbangan dapat mempengaruhi kinerja model, karena model dapat cenderung memprediksi kelas mayoritas. Maka data ini perlu dilakukan balancing data.</p>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sebaran kelas target pada kolom Action"</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(action_counts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sebaran kelas target pada kolom Action
allow         37640
deny          14987
drop          12851
reset-both       54
Name: Action, dtype: int64</code></pre>
</div>
</div>
<p><strong>Seleksi fitur</strong></p>
<p>Berdasarkan banyak fitur pada data ini yaitu 12 fitur dengan 1 fitur adalah target atau kelas. Jadi terdapat 11 fitur yang akan dipertimbangkan, kolom mana yang memiliki pengaruh tinggi. Untuk mendapatkan fitur yang memiliki pengaruh tinggi perlu dilakukan seleksi fitur.</p>
<p>Cara kerja seleksi fitur ialah dengan menentukan fitur yang paling relevan dan melakukan pembobotan pada setiap fitur. Seleksi fitur sendiri bertujuan untuk meningkatkan efisiensi dan efektivitas hasil dari kinerja algpritma klasifikasi (Buani, 2021)</p>
</section>
</section>
<section id="preprocessing" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="preprocessing"><span class="header-section-number">1.3</span> 3. Preprocessing</h2>
<p>Tahap preprocessing adalah tahapan untuk mempersiapkan data sebelum dilakukan pembuatan model. Pada tahap preprocessing, data akan dibersihkan, diubah, dan disesuaikan agar data sesuai dengan kebutuhan pada model machine learning yang akan digunakan. Tahap preprocessing merupakan langkah-langkah untuk membersihkan dan menyiapkan data sebelum memasukkan ke dalam model.</p>
<p>Preprocessing yang akan dilakukan berdasarkan tahap data understanding yaitu :</p>
<ul>
<li>Menghapus duplikat data</li>
<li>Menghapus Outlier</li>
<li>Proporsi data yang tidak seimbang , sehingga perlu dilakukan balancing data</li>
<li>Encoding pada kolom ‘Action’ yang merupakan bukan tipe data numerik</li>
<li>Seleksi Fitur</li>
<li>Split dataset</li>
<li>Normalisasi</li>
</ul>
<section id="menghapus-duplikat-data" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="menghapus-duplikat-data"><span class="header-section-number">1.3.1</span> Menghapus Duplikat data</h3>
<p>Pada dua baris dianggap duplikat jika seluruh nilai dalam baris tersebut bernilai sama persis. Pada implementasi ini, menggunakan fungsi ‘drop_duplicates’ untuk menghapus duplikat. Pada tahap data understanding sebelumnya, telah melakukan pengecekan banyak data yang teridentifikasi duplikat, sehingga pada tahap preprocessing ini dilakukan penghapusan data duplikat yang dapat mengganggu analisis dan menghasilkan hasil yang tidak akurat. . Dengan menggunakan library pandas, dapat menggunakan ‘drop_duplicates()’ untuk membersihkan DataFrame dari baris-baris yang identik atau duplikat.</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># variabel data yang menyimpan data dilakukan drop atau penghapusan data yang  duplikat</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>data.drop_duplicates(inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Untuk melakukan penghapusan data yang duplikat dengan menggunakan perintah di bawah ini :</p>
<ul>
<li><p>‘data’ : data adlaah variabel yang menyimpan dataset atau sebagai objek DataFrame</p></li>
<li><p>‘drop_duplicates’ : Metode ini digunakan untuk menghapus baris yang teridentifikasi duplikat pada DataFrame. FUngsi ini akan mempertahankan satu abris dari setiap duplikat dan baris duplikat lainnya akan dihapus.</p></li>
<li><p>‘inplace=True’ : Parameter ini idgunakan untuk mengubah DataFrame yang ada secara langsung tanpa membuat salinan data baru. Namun, jika ‘inplace=False’, metode ini akan mengembalikan DataFrame yang sudah diubah atau pada tahap ini sudah dilakukan penghapusan.</p>
<p>Jika terdapat baris-baris duplikat dalam DataFrame, mereka akan dihapus, dan DataFrame akan diubah secara langsung (jika inplace=True). Jika tidak ada duplikat, DataFrame tetap tidak berubah.</p></li>
</ul>
</section>
<section id="menghapus-outlier-data" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="menghapus-outlier-data"><span class="header-section-number">1.3.2</span> Menghapus Outlier Data</h3>
<div class="cell" data-outputid="0f1e225d-fe7f-4eac-d6a5-ec6c2872dbbc" data-execution_count="24">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>numeric_columns <span class="op">=</span> [<span class="st">'Bytes'</span>, <span class="st">'Bytes Sent'</span>, <span class="st">'Bytes Received'</span>, <span class="st">'Packets'</span>, <span class="st">'Elapsed Time (sec)'</span>, <span class="st">'pkts_sent'</span>, <span class="st">'pkts_received'</span>]</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Menghitung Z-score untuk setiap kolom numerik</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>z_scores <span class="op">=</span> np.<span class="bu">abs</span>(stats.zscore(data[numeric_columns]))</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Menentukan ambang batas Z-score (misalnya, 3)</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>threshold <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Mengidentifikasi indeks baris yang memiliki outlier</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>outlier_indices <span class="op">=</span> np.where(z_scores <span class="op">&gt;</span> threshold)</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Mengidentifikasi indeks baris yang memiliki outlier</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>outlier_indices <span class="op">=</span> np.where(z_scores <span class="op">&gt;</span> threshold)</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Indeks baris yang memiliki outlier:"</span>)</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(outlier_indices[<span class="dv">0</span>])</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Nilai outlier untuk setiap kolom:"</span>)</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>outlier_values <span class="op">=</span> data.iloc[outlier_indices[<span class="dv">0</span>]][numeric_columns]</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(outlier_values)</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Jumlah outlier untuk setiap kolom:"</span>)</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>outlier_counts <span class="op">=</span> pd.DataFrame(outlier_values.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.count(), axis<span class="op">=</span><span class="dv">0</span>), columns<span class="op">=</span>[<span class="st">'Outlier Count'</span>])</span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(outlier_counts)</span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Menghapus baris yang memiliki outlier</span></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>data_cleaned <span class="op">=</span> data.drop(data.index[outlier_indices[<span class="dv">0</span>]])</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data setelah dibersihkan dari outlier"</span>)</span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data_cleaned)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Indeks baris yang memiliki outlier:
[    2   121   122 ... 56994 57000 57000]
Nilai outlier untuk setiap kolom:
          Bytes  Bytes Sent  Bytes Received  Packets  Elapsed Time (sec)  \
2           238         118             120        2                1199   
121         870         330             540       12                2308   
122     8171028      105740         8065288     6637                 149   
124         481         150             331        2                1200   
335         330         330               0        6                1200   
...         ...         ...             ...      ...                 ...   
65286       481         150             331        2                1199   
65289       118         118               0        1                1199   
65290       324         150             174        2                1201   
65296  11381441      121813        11259628     9309                 119   
65296  11381441      121813        11259628     9309                 119   

       pkts_sent  pkts_received  
2              1              1  
121            6              6  
122          745           5892  
124            1              1  
335            6              0  
...          ...            ...  
65286          1              1  
65289          1              0  
65290          1              1  
65296       1741           7568  
65296       1741           7568  

[1582 rows x 7 columns]
Jumlah outlier untuk setiap kolom:
                    Outlier Count
Bytes                        1582
Bytes Sent                   1582
Bytes Received               1582
Packets                      1582
Elapsed Time (sec)           1582
pkts_sent                    1582
pkts_received                1582
Data setelah dibersihkan dari outlier
       Source Port  Destination Port  NAT Source Port  NAT Destination Port  \
0            57222                53            54587                    53   
1            56258              3389            56258                  3389   
3            50553              3389            50553                  3389   
4            50002               443            45848                   443   
5            51465               443            39975                   443   
...            ...               ...              ...                   ...   
65526        51710             43069            65147                 43069   
65527        63691                80            13237                    80   
65528        50964                80            13485                    80   
65529        54871               445                0                     0   
65530        54870               445                0                     0   

      Action    Bytes  Bytes Sent  Bytes Received  Packets  \
0      allow      177          94              83        2   
1      allow     4768        1600            3168       19   
3      allow     3327        1438            1889       15   
4      allow    25358        6778           18580       31   
5      allow     3961        1595            2366       21   
...      ...      ...         ...             ...      ...   
65526  allow       70          70               0        2   
65527  allow      314         192             122        6   
65528  allow  4680740       67312         4613428     4675   
65529   drop       70          70               0        1   
65530   drop       70          70               0        1   

       Elapsed Time (sec)  pkts_sent  pkts_received  
0                      30          1              1  
1                      17         10              9  
3                      17          8              7  
4                      16         13             18  
5                      16         12              9  
...                   ...        ...            ...  
65526                   8          2              0  
65527                  15          4              2  
65528                  77        985           3690  
65529                   0          1              0  
65530                   0          1              0  

[55805 rows x 12 columns]</code></pre>
</div>
</div>
</section>
<section id="balancing-data" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="balancing-data"><span class="header-section-number">1.3.3</span> Balancing Data</h3>
<p>Balancing data dilakukan menggunakan RandomOverSampler. Dari hasil pengujian didapatkan hasil terbaik menggunakan RandomOverSampler meningkatkan akurasi prediksi.Hasil penelitian yang dilakukan oleh Iwan Binanto menyatakan bahwa dengan menggunakan balancing Random Over Sampler didapatkan akurasi yang tinggi pada permodelan. Metode balancing RandomOverSampler bertujuan untuk menambahkan salinan acak dari sampel-sampel yang sudah ada pada kelas tersebut. Proses kerja sebagai berikut : - menentukan kelas minorittas yang memiliki jumlah sampel yang lebih sedikit - menentukan jumlah sampel tambahan, dengan menghitung perbedaan jumlah pada mayoritas dan minoritas.</p>
<p>Penanganan Imbalance data jika kolom target Action terdapat ketidakseimbangan berupa oversampling atau undersampling</p>
<p>Algoritma Random Over Sampler :</p>
<ol type="1">
<li><p>Hitung jumlah sampel kelas mayoritas dan kelas minoritas</p>
<ul>
<li>Nmayoritas : Jumlah sampel pada kelas mayoritas</li>
<li>Nminority :</li>
</ul></li>
<li><p>Hitung jumlah yang perlu ditambahkan</p>
<ul>
<li>Nnew = Nmayoritas - Nminoritas</li>
</ul>
<p>Hasil dari Nnew ini adalah yang akan ditambahkan pada kelas minoritas agar seimbang dengan kelas mayoritas.</p></li>
<li><p>Pilih instansi secara acak dari kelas minoritas</p>
<ul>
<li>Pilih Nnew sampel secara acak dari kelas minoritas untuk ditambahkan ke dataset</li>
</ul></li>
<li><p>Tambahkan Sampel Baru ke Dataset:</p></li>
</ol>
<ul>
<li>Tambahkan Nnew instansi yang dipilih ke dataset</li>
</ul>
<p>Contoh perhitungan manual :</p>
<ol type="1">
<li><p>Hitung jumlah sampel kelas mayoritas dan kelas minoritas</p>
<ul>
<li>Nmayoritas = 100</li>
<li>Nminoritas = 30</li>
</ul></li>
</ol>
<ol start="2" type="1">
<li><p>Hitung jumlah yang perlu ditambahkan</p>
<ul>
<li>Nnew = Nmayoritas - Nminoritas = 100 - 30 = 70</li>
</ul></li>
<li><p>Pilih sampel secara acak dari kelas minoritas</p>
<ul>
<li>Secara acak memilih 70 sampel dari kelas minoritas</li>
</ul></li>
<li><p>Tambahkan Sampel Baru ke Dataset</p>
<ul>
<li>Tambahkan 70 sampel yang dipilih ke dalam dataset.</li>
</ul></li>
</ol>
<p>Dengan menggunakan bahasa pemrogra,an python, untuk melakukan penerapan metode balancing Random Over Sampler dengan mengunakan library untuk oversampling , seperti imbalanced-learn dari imblearn. Berikut adalah penggunaan Random Over Sampler :</p>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> imblearn.over_sampling <span class="im">import</span> RandomOverSampler</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Data sebelum di balancing, dilakukan pemisahan fitur dan target</p>
<div class="cell" data-outputid="8cc463df-a217-4d12-f1f6-90dcac91936d" data-scrolled="true" data-execution_count="26">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> data.drop(<span class="st">'Action'</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> data[<span class="st">'Action'</span>]</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Output data asli sebelum dilakukan balancing data"</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( Counter(y))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Output data asli sebelum dilakukan balancing data
Counter({'allow': 37439, 'drop': 11635, 'deny': 8042, 'reset-both': 54})</code></pre>
</div>
</div>
<div class="cell" data-outputid="02290a59-cea4-437c-bc70-e3f8f04b26e6" data-execution_count="27">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># inisialisasi randomOverSampler dengan variabel ros</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>ros <span class="op">=</span> RandomOverSampler(random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Melakukan oversampling pada dataset</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>X_ros, y_ros <span class="op">=</span> ros.fit_resample(X,y)</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Output data resampled : '</span>, Counter(y_ros))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Output data resampled :  Counter({'allow': 37439, 'drop': 37439, 'deny': 37439, 'reset-both': 37439})</code></pre>
</div>
</div>
<p>Pada proses oversampling dataset , ‘X’ adalah matriks fitur dan ‘y’ adlaah vektor target. Metode ‘fit_resample’ akan melakukanobversampling pada dataset dan mengembalikan dataset yang baru yang sudah dilakukan oversample.</p>
<div class="cell" data-outputid="72a9fb3d-1b4b-4844-af7c-f77e6320b159" data-execution_count="28">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Jumlah data setelah dilakukan balancing resampled : '</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Features'</span>,X_ros.shape)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Target'</span>,y_ros.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Jumlah data setelah dilakukan balancing resampled : 
Features (149756, 11)
Target (149756,)</code></pre>
</div>
</div>
<p>Data yang semula berjumlah 65532 disimpan di variabel ‘data’, setelah dilakukan preprocessing penghapusan data duplikat dan data oulier kemudian dilakukan balancing data berubah menjadi 149756. Setelah melakukan balancing data, data akan disimpan menjadi data baru lagi. Pada data ini, data yang telah diakukan pembersihan dan balancing data disimpan di variabel balanced_data.</p>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Menggabungkan kembali X_ros dan y_ros menjadi DataFrame</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>balanced_data <span class="op">=</span> pd.DataFrame(X_ros, columns<span class="op">=</span>X.columns)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>balanced_data[<span class="st">'Action'</span>] <span class="op">=</span> y_ros.reset_index(drop<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Setelah dilakukan penerapan metode balancing Oversampling, jumlah data dalam dataset meningkat. Karena Oversampling ini menambahkan jumlah sampel dari kelas minoritas dengan cara menggandakan atau menambahkan variasi pada sampel yang sudah ada.</p>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>jumlah_data <span class="op">=</span> balanced_data.shape[<span class="dv">0</span>]</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Jumlah Data Firewall :"</span>, jumlah_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Jumlah Data Firewall : 149756</code></pre>
</div>
</div>
<div class="cell" data-outputid="6b9fbd6c-fe4b-4e0f-b7d7-25b8931b47b8" data-scrolled="true" data-execution_count="31">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>sns.countplot(x<span class="op">=</span><span class="st">'Action'</span>, data<span class="op">=</span>data, palette<span class="op">=</span><span class="st">'Set1'</span>)</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Distribusi Kelas Data Imbalance"</span>)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Action"</span>)</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Jumlah"</span>)</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.show()</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>sns.countplot(x<span class="op">=</span><span class="st">'Action'</span>, data<span class="op">=</span>pd.DataFrame(y_ros, columns<span class="op">=</span>[<span class="st">'Action'</span>]), palette<span class="op">=</span><span class="st">'Set2'</span>)</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Distribusi Kelas Data Setelah Balancing"</span>)</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Action"</span>)</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Jumlah"</span>)</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="21041110004_DinaViolina_Firewall_files/figure-html/cell-32-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="encoder" class="level3" data-number="1.3.4">
<h3 data-number="1.3.4" class="anchored" data-anchor-id="encoder"><span class="header-section-number">1.3.4</span> Encoder</h3>
<p>Label Encoder digunakan untuk mengkonversi nilai pada kolom target ‘Action’ yang semula bersifat kategorikal ‘allow’ , ‘deny’, ‘drop’, dan ‘reset both’ diubah menjadi numerik.</p>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>X_ros <span class="op">=</span> balanced_data.drop(columns<span class="op">=</span>[<span class="st">'Action'</span>])</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>label_encoder <span class="op">=</span> LabelEncoder()</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>y_ros <span class="op">=</span> label_encoder.fit_transform(balanced_data[<span class="st">'Action'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Penjelasan :</p>
<ul>
<li><p>X_ros sebagai variabel yang menghapus kolom target dari dataset awal.</p></li>
<li><p>label_encoder = LabelEncoder() membuat objek dari kelas LabelEncoder. LabelEncoder digunakan untuk mengubah label kategori menjadi bilangan bulat.</p></li>
<li><p>y_rose sebagai avriabel yang menyimpan label yang telah diubah menjadi bentuk numerik. Dengan ‘fit_transform ()’ mempelajari mapping antara tabel kategori dan bilangan bulat yang kemudian mengubah label katgeori menjadi bilangan bulat(transform)</p></li>
</ul>
</section>
<section id="fiture-selection" class="level3" data-number="1.3.5">
<h3 data-number="1.3.5" class="anchored" data-anchor-id="fiture-selection"><span class="header-section-number">1.3.5</span> Fiture Selection</h3>
<p>Dalam menghasilnya performa pengolahan data, fungsi dari proses seleksi fitur menghasilkan dataset yang lebih ramping karena dalam seleksi fittur akan dilakukan pengurangan jumlah fitur / atribut yang diperoleh dari pengukuran fitur-fitur yang memiliki pengaruh signifkan terhadap kelas. Dalam seleksi fitur terdapat metode-metode yang digunakan untuk mengetahui fitur yang memberikan pengaruh terhadap kelas dari dataset yang digunakan.</p>
<p>Macam-macam seleksi fitur: - Information Gain</p>
<pre><code>Seleksi fitur Information Gain dengan mengukur sejauh mana suatu fitur memberikan informasi yang berguna dalam memprediksi label kelas.</code></pre>
<ul>
<li><p>Correlation Based</p>
<p>Seleksi fitur Correlation Based dengan memilih fitur berdasarkan tingkat korelasi dengan variabel target.</p></li>
<li><p>Learner Based</p>
<p>Seleksi Learner Based melibatkan penggunaan model pembelajaran untuk mengevaluasi kontribusi setiap fitur. Model dibangun untuk memprediksi target, dan fitur dinilai berdasarkan pengaruhnya terhadap kinerja model.</p></li>
<li><p>Mutual Information</p>
<p>Seleksi fitur Mutual Information mengukur sejauh mana pengetahuan tentang nilai satu variabel memberikan informasi tentang nilai variabel lainnya. Pada mutual innformation, dengan menggunakan ’mutual_info_classif digunakan untuk mengevaluasi relevansi antara fitur-fitur dan kelas target dalam menanagani masalah klasifikasi. entropy</p></li>
<li><p>Principal Component Analysis (PCA)</p>
<p>Seleksi fitur dengan PCA digunakan untuk mengurangi dimensi data ke ruang fitur yang lebih rendah. Komponen utama yang dihasilkan adalah kombinasi linear dari fitur asli yang menyimpan varian maksimal.</p></li>
<li><p>Genetic Alghoritms Seleksi fitur genetic algorithms menerapkan konsep seleksi alam untuk menemukan subset fitur yang optimal. Pada genetic algorithms menggunakan konsep seleksi, crossover, dan mutasi untuk menghasilkan generasi baru dari subset fitur dan meningkatkan kualitasnya seiring waktu.</p></li>
</ul>
<p>Pada tahap seleksi fitur pengolahan data klasifikasi ini dengan menggunakan mutual information.</p>
<p><strong>Rumus Mutual Information</strong> )= <span class="math display">\[I(A;Y) = \sum P(A,Y) .log_2 (\frac{P(A,Y)}{P(A).P(Y)}) \]</span> dimana <span class="math inline">\(P(A,Y)\)</span> adalah probabilitas kombinasi nilai <span class="math inline">\((A, Y), P(A)\)</span> adalah probabilitas nilai A, dan <span class="math inline">\(P(Y)\)</span> adalah probabilitas nilai Y.</p>
<p><strong>Algoritma seleksi fitur mutual information :</strong></p>
<ol type="1">
<li><p>Perhitungan Informasi untuk setiap fitur</p>
<p>Menghitung nilai informasi bersama antara setiap fitur dan variabel target(kelas) dalam dataset. Mutual Information dapat dihitung menggunakan formula atau fungsi yang mengukur seberapa banyak informasi yang dimiliki fitur tentang target.</p></li>
<li><p>Penilaian relevansi</p>
<p>Fitur-fitur dinilai berdasarkan nilai informasi bersama yang dihasilkan dari perhitungan sebelumnya. Fitur dengan nilai informasi bersama yang tinggi dianggap lebih relevan atau informatif terhadap variabel target. Mengurutkan fitur-fitur berdasarkan nilai Mutual Information dari yang tertinggi sampai terendah. Fitur dengan nilai Mutual Information yang lebih tinggi dianggap lebih informatif terkait dengan target(Irham et al., 2019).</p></li>
<li><p>Pemilihan fitur Sebagai hasil dari penilaian, dengan menentukan ambang atau kriteria tertentu untuk memilih subset fitur. Subset fitur yang melewati ambang relevansi dipertahankan, sementara yang di bawah ambang dapat dihapus.</p></li>
<li><p>Implementasi dalam kode :</p>
<ul>
<li>menggunakan fungsi mutual_info_classif dari scikit-learn untuk menghitung nilai informasi bersama. Melakukan perhitungan skor informasi bersama untuk setiao fitur dalam dataset ‘X’ terhadap variabel target ‘y’.</li>
<li>Menyimpan skor informasi bersama</li>
<li>Memvisualisasikan seleksi fitur dengan grafik batang horizontal atau lainnya untuk mengetahui seberapa informatif setiap fitur terhadap variabel target.</li>
</ul></li>
</ol>
<p><strong>Contoh perhitungan manual mutual information</strong> Dataset:</p>
<table class="table">
<thead>
<tr class="header">
<th>A</th>
<th>B</th>
<th>Y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Langkah-langkah :</p>
<ol type="1">
<li>Hitung Frekuensi Masing-Masing Kombinasi Nilai
<ul>
<li>Membuuat tabel untuk menggambarkan frekuensi masing-masing kombinasi nilai dari fitur dan target, pada contoh dua fitur (A dan B) dan fitur Y sebagai target</li>
</ul></li>
</ol>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th>A=0</th>
<th>A=1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>B=0</td>
<td>?</td>
<td>?</td>
</tr>
<tr class="even">
<td>B=1</td>
<td>?</td>
<td>?</td>
</tr>
</tbody>
</table>
<pre><code> - Misalnya, berapa kali kombinasi (A=0, Y=1) muncul, (A=0, Y=0), dst.</code></pre>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th>A=0</th>
<th>A=1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>B=0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>B=1</td>
<td>2</td>
<td>2</td>
</tr>
</tbody>
</table>
<pre><code>Penjelasan :

- Kombinasi (A=0, B=0): Terdapat 1 sampel (baris pertama).
- Kombinasi (A=1, B=0): Terdapat 1 sampel (baris keempat).
- Kombinasi (A=0, B=1): Terdapat 2 sampel (baris ketiga dan kelima).
- Kombinasi (A=1, B=1): Terdapat 2 sampel (baris kedua dan keempat).</code></pre>
<ol start="2" type="1">
<li><p>Hitung Probabilitas Masing-Masing Kombinasi:</p>
<ul>
<li>Total sampel adalah jumlah total baris dalam dataset</li>
</ul>
<p>P(A=0, Y=0) = 1 / total_sampel P(A=1, Y=0) = 1 / total_sampel P(A=0, Y=1) = 1 / total_sampel P(A=1, Y=1) = 2 / total_sampel</p>
<p>Pada contoh perhitungan manual dengan 5 jumlah baris dalam dataset dilakukan perhitungan probabilitas sebagai berikut : 1 Kombinasi(A=0, Y=0)</p></li>
</ol>
<p><span class="math display">\[P(A=0, Y=0) = \frac{1}{5} \]</span> <span class="math display">\[P(A=0 ) = \frac{3}{5} (jumlah keseluruhan A=0 dalam dataset)\]</span> <span class="math display">\[P(Y=0 ) = \frac{2}{5} (jumlah keseluruhan Y=0 dalam dataset)\]</span> <span class="math display">\[I(A=0,Y=0 ) = \frac{1}{5}.log_2 (\frac{\frac{1}{5}}{\frac{3}{5}.\frac{2}{5}})\]</span> <span class="math display">\[I(A=0,Y=0 ) ≈ -0.464\]</span> 2 Kombinasi (A=1, Y=0)</p>
<p><span class="math display">\[P(A=1, Y=0) = \frac{1}{5} \]</span> <span class="math display">\[P(A=1 ) = \frac{2}{5} (jumlah keseluruhan A=1 dalam dataset)\]</span> <span class="math display">\[P(Y=0 ) = \frac{2}{5} (jumlah keseluruhan Y=0 dalam dataset)\]</span> <span class="math display">\[I(A=0,Y=0 ) = \frac{1}{5}.log_2 (\frac{\frac{2}{5}}{\frac{2}{5}.\frac{2}{5}})\]</span> <span class="math display">\[I(A=1,Y=0 ) ≈ -0.464\]</span> 3 Kombinasi (A=0, Y=1)</p>
<p><span class="math display">\[P(A=1, Y=0) = \frac{1}{5} \]</span> <span class="math display">\[P(A=1 ) = \frac{3}{5} (jumlah keseluruhan A=1 dalam dataset)\]</span> <span class="math display">\[P(Y=0 ) = \frac{3}{5} (jumlah keseluruhan Y=0 dalam dataset)\]</span> <span class="math display">\[I(A=0,Y=0 ) = \frac{1}{5}.log_2 (\frac{\frac{2}{5}}{\frac{3}{5}.\frac{3}{5}})\]</span> <span class="math display">\[I(A=1,Y=0 ) ≈ 0.464\]</span></p>
<pre><code>    4. Kombinasi (A=1, Y=0)
 </code></pre>
<p><span class="math display">\[P(A=1, Y=0) = \frac{1}{5} \]</span> <span class="math display">\[P(A=1 ) = \frac{2}{5} (jumlah keseluruhan A=1 dalam dataset)\]</span> <span class="math display">\[P(Y=0 ) = \frac{3}{5} (jumlah keseluruhan Y=0 dalam dataset)\]</span> <span class="math display">\[I(A=0,Y=0 ) = \frac{1}{5}.log_2 (\frac{\frac{2}{5}}{\frac{2}{5}.\frac{3}{5}})\]</span> <span class="math display">\[I(A=1,Y=0 ) ≈ 0.311\]</span></p>
<ol start="3" type="1">
<li>Hitung mutual information )= <span class="math display">\[I(A;Y) = \sum P(A,Y) .log_2 (\frac{P(A,Y)}{P(A).P(Y)}) \]</span> <span class="math display">\[I(A;Y) \approx 0.464+0.464+0.464+0.311 \approx 1.703 \]</span>
<ul>
<li>Dimana <span class="math inline">\(P(A,Y)\)</span> adalah probabilitas kombinasi nilai <span class="math inline">\((A, Y), P(A)\)</span> adalah probabilitas nilai A, dan <span class="math inline">\(P(Y)\)</span> adalah probabilitas nilai Y.</li>
</ul>
Jadi, hasil perhitungan manual dan rumus, didapatkan nilai Mutual Information antara fitur A dan target Y adalah sekitar 1.703.</li>
<li>Urutkan fitur berdasarkan nilai mutual information</li>
</ol>
<p>Yang akan kita lakukan dalam menentukan nilai seleksi fitur pada pengolahan data klasifikasi firewall ini adalah sebagai berikut :</p>
<p>1.) Import library</p>
<ul>
<li><p>Mengimpor fungsi mutual_info_classif dari modul feature_selection di scikit-learn.</p></li>
<li><p>%matplotlib inline digunakan untuk menampilkan plot secara langsung di notebook karena pengolahan data ini dilakukan dengan menggunakan Jupyter Notebook. 2.) Menghitung Informasi bersama</p></li>
<li><p>Menghitung skor informasi bersama untuk setiap fitur dalam dataset X terhadap variabel target y menggunakan metode Mutual Information. 3.) Menyimpan skor informasi bersama</p></li>
<li><p>Membuat objek Series Pandas untuk menyimpan skor informasi bersama.</p></li>
<li><p>Nama fitur diambil dari nama kolom dataset kecuali untuk kolom target ‘Action’. 4.) Visualisasi dengan bar plot</p></li>
<li><p>Visualisasi pada code di bawah ini dengan menggunakan batang horizontal untuk memvisualisasikan skor informasi bersama dari setiap fitur. 5.) Penambahan label pada plot / grafik</p></li>
<li><p>Pada sumbu x dan sumbu yang terdapat pada grafik diberikan label fitur dan label information gain.</p></li>
<li><p>Nilai numerik pada setiap batang diperlihatkan.</p></li>
</ul>
<p>Semakin panjang batangnya, semakin informatif fitur terhadap variabel target. Sehingga nanti dari hasil seleksi fitur ini, batang yang memiliki panjang paling pendek akan dihapus atau dieliminasi.</p>
<div class="cell" data-scrolled="true" data-execution_count="33">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.feature_selection <span class="im">import</span> mutual_info_classif</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="co"># menghitung skor informasi bersama untuk setiap fitur dalam dataset X terhadap variabel target y.</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>importances <span class="op">=</span> mutual_info_classif(X_ros, y_ros)</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>feat_importances <span class="op">=</span> pd.Series(importances, balanced_data.columns[<span class="dv">0</span>:<span class="bu">len</span>(balanced_data.columns)<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="co"># feat_importances = pd.Series(importances, data.columns)</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>feat_importances.plot(kind<span class="op">=</span><span class="st">'barh'</span>, color <span class="op">=</span><span class="st">'teal'</span>)</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Information Gain'</span>)</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Fitur'</span>)</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, v <span class="kw">in</span> <span class="bu">enumerate</span>(feat_importances):</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>    plt.text(v, i, <span class="ss">f'</span><span class="sc">{</span>v<span class="sc">:.2f}</span><span class="ss">'</span>, color<span class="op">=</span><span class="st">'black'</span>, va<span class="op">=</span><span class="st">'center'</span>)</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>plt.show</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>&lt;function matplotlib.pyplot.show(close=None, block=None)&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="21041110004_DinaViolina_Firewall_files/figure-html/cell-34-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pemisahan fitur dan target setelah oversampling</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>X_selected <span class="op">=</span> X_ros</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>y_selected <span class="op">=</span> y_ros</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>importances <span class="op">=</span> mutual_info_classif(X_selected, y_selected)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Membuat DataFrame untuk menampilkan informasi fitur</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>feat_importances <span class="op">=</span> pd.DataFrame({</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Fitur'</span>: balanced_data.columns[:<span class="op">-</span><span class="dv">1</span>],  <span class="co"># Excluding the target variable</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Skor_Mutual_Info'</span>: importances</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Menambahkan kolom ranking berdasarkan skor mutual info (urutkan dari yang tertinggi)</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>feat_importances[<span class="st">'Rank'</span>] <span class="op">=</span> feat_importances[<span class="st">'Skor_Mutual_Info'</span>].rank(ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Menampilkan tabel dengan nama fitur, nilai mutual info, dan ranking fitur yang diurutkan</span></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>sorted_feat_importances <span class="op">=</span> feat_importances.sort_values(by<span class="op">=</span><span class="st">'Skor_Mutual_Info'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sorted_feat_importances)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   Fitur  Skor_Mutual_Info  Rank
1       Destination Port          0.308676   1.0
2        NAT Source Port          0.278109   2.0
0            Source Port          0.242773   3.0
3   NAT Destination Port          0.048907   4.0
8     Elapsed Time (sec)          0.030184   5.0
6         Bytes Received          0.005338   6.0
9              pkts_sent          0.002782   7.0
7                Packets          0.001533   8.0
10         pkts_received          0.001375   9.0
5             Bytes Sent          0.000086  10.0
4                  Bytes          0.000000  11.0</code></pre>
</div>
</div>
<p>Setelah melakukan pemisahan fitur, kemudian melakukan split dataset dengan fungsi train_test_split yang digunakan untuk membagi dataset menjadi set pelatihan (train set) dan set pengujian (test set). Ini membantu dalam mengevaluasi kinerja model pada data yang tidak digunakan selama pelatihan. - X_ros: Matriks fitur (features) dari dataset yang telah di-resampled dengan menggunakan Random Over-Sampling (X_ros).</p>
<ul>
<li><p>y_ros: Ini adalah vektor target (labels) yang sesuai dengan X_ros.</p></li>
<li><p>test_size=0.2: Ini menentukan proporsi data yang akan dialokasikan untuk test set. Dalam hal ini, 20% dari total data akan digunakan sebagai test set.</p></li>
<li><p>random_state=42: Ini digunakan untuk memastikan reproduktibilitas hasil. Jika kita memberikan nilai tertentu (dalam hal ini 42), maka setiap kali kita menjalankan fungsi ini, kita akan mendapatkan pembagian yang sama untuk set pelatihan dan set pengujian. Ini berguna ketika kita ingin hasil yang konsisten setiap kali kode dijalankan.</p></li>
</ul>
<p>Hasil dari fungsi train_test_split adalah empat kumpulan data:</p>
<ul>
<li>X_train: Matriks fitur dari set pelatihan.</li>
<li>X_test: Matriks fitur dari set pengujian.</li>
<li>y_train: Vektor target dari set pelatihan.</li>
<li>y_test: Vektor target dari set pengujian.</li>
</ul>
</section>
<section id="split-dataset" class="level3" data-number="1.3.6">
<h3 data-number="1.3.6" class="anchored" data-anchor-id="split-dataset"><span class="header-section-number">1.3.6</span> Split Dataset</h3>
<p>Split dataset yaitu melakukan pemisahan data menjadi dua bagian atau lebih. Split data atau pemisahan data yang dilakukan pada data ini dengan dua pemisahan, yaitu data akan digunakan untuk pelatihan dan akan digunakan untuk pengujian.</p>
<ul>
<li>Data latih yaitu kumpulan data utama yang akan dimasukkan ke dalam model sehingga model tersebut dapat memplejari pola data.</li>
<li>Data uji yaitu set untuk memeriksa keakuratan dari model.</li>
</ul>
<p>Split dataset atau pemisahan dataset adalah langkah yang penting dalam analisis data. Tujuannya adalah untuk membagi dataset menjadi dua lebih subset data yang berbeda. Pembagiannya yaitu data latih (training data) dan data uji (data testing).</p>
<p>Tujuan utama split dataset adalah sebagai berikut :</p>
<ol type="1">
<li><p>Sebagai pelatihan model untuk machine learning.</p></li>
<li><p>Evaluasi model, data uji digunakan untuk menguji kinerja model yang telah dilatih. Hal ini membantu untuk mengukur sejauh mana model mampu melakukan prediksi dengan benar pada data yang tidak digunakan selama pelatihan.</p></li>
<li><p>Pengukuran kinerja</p></li>
<li><p>Pencegahan overfitting, yaitu keadaan dimana model memilliki kinerja yang sangat baik pada data latih tetapi buruk pada data uji.</p></li>
</ol>
<p>Pada pengolahan data ini, sebelum dilakukan split data yaitu dengan melakukan penghapusan fitur yang memiliki nilai pengaruh terendah yang kita dapatkan pada proses seleksi fitur. Niai terendah pada seleksi fitur kita dapatkan sebesar 0.00 pada kolom fitur Elapsed Time (sec). Sehingga pada split dataset, fitur yang memiliki nilai informasi terkecil akan dihapus.</p>
<p>Maka pada pengolahan code di bawah ini: - Variabel X_selected melakukan drop penghapusan fitur yang memiliki nilai terkecil dan fitur target. - Variabel ‘y_selected’ merupakan variabel target. Variabel target(‘Action’) ditentukan sebagai variabel ‘y’.</p>
<p>Penjelasan dari code yang digunakan pada split dataset ini:</p>
<p>Pada variabel X_selected dilakukan penghapusan kolom dengan ‘drop’ . Kolom yang dihapus ada 6 kolom yang didapatkan nilai terkecil pada seleksi fitur dan 1 kolom ‘Action’ yang berupa target dalam DataFrame yang disimpan pada variabel ‘balanced_data’.</p>
<p>Pada variabel ‘y_selected’ berisi kolom ‘Action’ dari ‘balanced_Data’. Variabel ini diasumsikan bahwa kolom ‘Action’ adalah kolom target atau label yang akan dilakukan prediksi.</p>
<p>Melakukan pengecekan jumlah data keseluruhan dan jumlah data uji dan data latih yang idgunakan pada split dataset dengan test_size 0.2 yang berarti data uji dilakukan 20% dan data latih sebesar 80% dari jumlah data. Variabel X_train yang berperan sebagai data latih berjumlah 119804 dan data yang dilakukan pengujian sebanyak 29952.</p>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Menghapus 5 kolom</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>X_selected <span class="op">=</span> balanced_data.drop(columns<span class="op">=</span>[<span class="st">'pkts_sent'</span>, <span class="st">'pkts_received'</span>,<span class="st">'Packets'</span>, <span class="st">'Bytes Received'</span>, <span class="st">'Bytes Sent'</span>, <span class="st">'Bytes'</span>, <span class="st">'Action'</span>])</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>y_selected <span class="op">=</span> balanced_data[<span class="st">'Action'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>numerical_features <span class="op">=</span> balanced_data.drop(columns<span class="op">=</span>[<span class="st">'Action'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X_selected, y_selected, test_size<span class="op">=</span><span class="fl">0.2</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-outputid="5dc79aa5-65e0-437f-afd7-6ac50cc4bd64" data-execution_count="39">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Jumlah Data :"</span>, X_selected.shape[<span class="dv">0</span>])</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data Latih : "</span>, X_train.shape[<span class="dv">0</span>])</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data Uji   : "</span>, X_test.shape[<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Jumlah Data : 149756
Data Latih :  119804
Data Uji   :  29952</code></pre>
</div>
</div>
<div class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Features'</span>,X_selected.shape)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Target'</span>,y_selected.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Features (149756, 5)
Target (149756,)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># setelah seleksi fitur</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>y_selected <span class="op">=</span> label_encoder.fit_transform(balanced_data[<span class="st">'Action'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Kemudian setelah dilakukan split data, dilakukan normalisasi dengan menggunakan 2 jenis normalisasi yaitu ZScore dan MinMax.</p>
</section>
<section id="normalisasi" class="level3" data-number="1.3.7">
<h3 data-number="1.3.7" class="anchored" data-anchor-id="normalisasi"><span class="header-section-number">1.3.7</span> Normalisasi</h3>
<p>Normalisasi data adalah proses mengubah nilai-nilai dalam dataset menjadi skala tertentu agar fitur-fitur dalam dataset memiliki skala yang seragam. Tujuan digunakannya normalisasi ini adalah untuk menghindari ketidakseimbangan skala yang bisa mempengaruhi performa . Dalam normalisasi, setiap fitur dalam dataset diubah dalam rentang tertentu, misalnya antara 0 hingga 1 atau -1 hingga 1.Pada pengolahan data internet firwall ini, saya menggunakan 2 jenis normalisasi yaitu sebagai berikut :</p>
<ol type="1">
<li>MinMaxScaler</li>
</ol>
<p>MinMaxScaler untuk mengubah rentang data menjadi [0, 1]. Ini penting jika Anda ingin menjaga rentang nilai yang konsisten di antara semua fitur Anda, terutama jika Dengan menggunakan algoritma yang sensitive terhadap skala. Dengan menerapkan Min-Max Scaling ke data serta data pelatihan dan pengujian secara terpisah.</p>
<p>Rumus MinMax :</p>
<p><span class="math display">\[MinMax = \frac{X- X_{\text{min}}}{X_{\text{max}} - X_{\text{min}}} \]</span></p>
<pre><code>Keterangan : 
- $X$ : Nilai yang akan dinormalisasi
- $X_{\text{min}}$ : Nilai minimum dari seluruh data
- $X_{\text{max}}$ : Nilai maksimum dari seluruh data</code></pre>
<p>Contoh implementasi :</p>
<p><span class="math inline">\(X =\)</span> [12,25,18,8,15]</p>
<p>Langkah-langkah yang harus diselesaikan :</p>
<p>1.) Menentukan <span class="math inline">\(X_{min}\)</span> dan <span class="math inline">\(X_{max}\)</span></p>
<pre><code> $X_{min} = {8}$ , $X_{max} = 25 $
 </code></pre>
<p>2.) Menghitung <span class="math inline">\(X_{normalisasi}\)</span> untuk setiap nilai <span class="math inline">\(X\)</span> :</p>
<p><span class="math inline">\(X_{\text{normalisasi}} = \frac{12 - 8}{25 - 8} = \frac{4}{17} \approx 0.24\)</span></p>
<p><span class="math inline">\(X_{\text{normalisasi}} = \frac{25 - 8}{25 - 8} = 1\)</span></p>
<p><span class="math inline">\(X_{\text{normalisasi}} = \frac{18 - 8}{25 - 8} = \frac{10}{17} \approx 0.59\)</span></p>
<p>$X_{} = = 0 $</p>
<p><span class="math inline">\(X_{\text{normalisasi}} = \frac{15 - 8}{25 - 8} = \frac{7}{17} \approx 0.41\)</span></p>
<table class="table">
<thead>
<tr class="header">
<th>x</th>
<th>x setelah normalisasi</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>12</td>
<td>0.24</td>
</tr>
<tr class="even">
<td>25</td>
<td>1</td>
</tr>
<tr class="odd">
<td>18</td>
<td>0.59</td>
</tr>
<tr class="even">
<td>8</td>
<td>0</td>
</tr>
<tr class="odd">
<td>15</td>
<td>0.41</td>
</tr>
</tbody>
</table>
<ol start="2" type="1">
<li>ZScore</li>
</ol>
<p>ZSore mengubah distribusi data menjadi distribusi normal standar. Membantu dalam meningkatkan konvergensi algoritma pembelajaran mesin yang menggunakan perhitungan jarak, seperti SVM atau K-Means. Anda menerapkan Z-Score ke data dan juga untuk data pelatihan dan pengujian secara terpisah.</p>
<p>Rumus ZScore :</p>
<p><span class="math display">\[Z =\frac{x - mean (x)}{std_{dev}}  \]</span></p>
<pre><code>Keterangan :

- $Z =$ nilai yang akan dinormalisasi
- mean ($x = $) rata-rata dari seluruh data
- $std_{dev} = $ deviasi standar dari seluruh data</code></pre>
<p>Langkah-langkah perhitungan manual normalisasi Z-score adalah sebagai berikut :</p>
<pre><code> 1.) Tentukan mean (mean(x)) 
   dengan menghitung nilai rata-rata  dari data.
  
2.) Menghitung deviasi standar $std_{dev}$

3.) Menghitung Z-Score untuk setiap $x$
  
Contoh perhitungan manual normalisasi Z-Score pada sebuah dataset.

$x = $ [15, 18, 20, 22, 25]

Penyelesaian

1.) Mean $(x)$

 $mean(x) = \frac{15+18+20+22+25}{5} = {100}{5} = {20}$
 
2.) Deviasi standar $std_{dev}$

$std_{dev} = \sqrt \frac{\sum_{i=1}^5(mean(x))^2}{n}$

$std_{dev} = \sqrt \frac {(15-20)^2 + (18-20)^2 +(20-20)^2+(22-20)^2+(25-20)^2}{5}$

$std_{dev} = \sqrt \frac {25+4+0+4+25}{5}$

$std_{dev} = \sqrt \frac{58}{5}$

$ = \sqrt {11}{.6}$

$= {3.41}$

3.) Menghitung Z-score untuk setiap $x$

$Z_1 = \frac {15-20}{3.41} \approx -1.47$

$Z_2 = \frac {18-20}{3.41} \approx -0.59$

$Z_3 = \frac {20-20}{3.41} \approx 0$

$Z_4 = \frac {22-20}{3.41} \approx 0.59$

$Z_5 = \frac {25-20}{3.41} \approx 1.47$

Jadi, contoh data diatas yang sudah dilakukan normalisasi Z-Score adalah :</code></pre>
<table class="table">
<thead>
<tr class="header">
<th>x</th>
<th>x setelah normalisasi</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>15</td>
<td>-1.47</td>
</tr>
<tr class="even">
<td>18</td>
<td>-0.59</td>
</tr>
<tr class="odd">
<td>20</td>
<td>0</td>
</tr>
<tr class="even">
<td>22</td>
<td>0.59</td>
</tr>
<tr class="odd">
<td>25</td>
<td>1.47</td>
</tr>
</tbody>
</table>
<ul>
<li><p>Pada normalisasi, melakukan perhitungan rata-rata dan standar deviasi di setiap fitur pada X_train dengan menggunakan <strong>fit</strong></p></li>
<li><p><strong>transform</strong>, mengaplikasikan normalisasi berdasarkan jenis normalisasinya ke setiap nilai dalam set pelatihan menggunakan rata-rata dan standar deviasi yang dihitung sebelumnya.</p></li>
<li><p>Transform pada data pengujian(X_test) dengan transform(X_test) menggunakan rata-rata dan standar deviasi yang dihitung pada X_train untuk melakukan normalisasi pada set pengujian.</p></li>
</ul>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>X_train_standard <span class="op">=</span> scaler.fit_transform(X_train)</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>X_test_standard <span class="op">=</span> scaler.transform(X_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>minmax_scaler <span class="op">=</span> MinMaxScaler()</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>X_train_minmax <span class="op">=</span> minmax_scaler.fit_transform(X_train)</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>X_test_minmax <span class="op">=</span> minmax_scaler.transform(X_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-outputid="60a4c415-a77c-451c-e96d-a71a2d383f5d" data-execution_count="44">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data Latih Z Score : "</span>, X_train_standard.shape[<span class="dv">0</span>])</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data Uji Z Score  : "</span>, X_test_standard.shape[<span class="dv">0</span>])</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"============================================="</span>)</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data Latih MinMax : "</span>, X_train_minmax.shape[<span class="dv">0</span>])</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data Uji MinMax  : "</span>, X_test_minmax.shape[<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data Latih Z Score :  119804
Data Uji Z Score  :  29952
=============================================
Data Latih MinMax :  119804
Data Uji MinMax  :  29952</code></pre>
</div>
</div>
<p><strong>Menyimpan model normalisasi</strong></p>
<p>Menyimpan model normalisasi MinMax dan Zscore menjadi file pikle yang akan kita gunakan untuk melakukan deployment setelah evaluasi model.Format pickle menjadi suatu cara untuk menyimpan model yang telah dilatih ke dalam file biner, termasuk model machine learning yang dapat diambil kembali. Dengan menyimpan file pickle, model yang telah k=dilatih dapat digunakan kembali untuk prediksi di lingkungan produksi tanpa harus melatih ulang.</p>
<div class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>file_zscore <span class="op">=</span> <span class="st">'norma_zs.pkl'</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(file_zscore, <span class="st">'wb'</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  pickle.dump(scaler, <span class="bu">file</span>)</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>file_minmax <span class="op">=</span> <span class="st">'normal_min.pkl'</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(file_minmax, <span class="st">'wb'</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>  pickle.dump(minmax_scaler, <span class="bu">file</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>file_zscore <span class="op">=</span> <span class="st">'normalized_ZScore_2.pkl'</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(file_zscore, <span class="st">'wb'</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  pickle.dump(scaler, <span class="bu">file</span>)</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>file_minmax <span class="op">=</span> <span class="st">'normalized_minmax_2.pkl'</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(file_minmax, <span class="st">'wb'</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  pickle.dump(minmax_scaler, <span class="bu">file</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>file_zscore <span class="op">=</span> <span class="st">'normalized_ZScore.pkl'</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(file_zscore, <span class="st">'wb'</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  pickle.dump(scaler, <span class="bu">file</span>)</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>file_minmax <span class="op">=</span> <span class="st">'normalized_minmax.pkl'</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(file_minmax, <span class="st">'wb'</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>  pickle.dump(minmax_scaler, <span class="bu">file</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="modelling" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="modelling"><span class="header-section-number">1.4</span> 4. Modelling</h2>
<p>Machine learning model merupakan program komputer yang digunakan untuk mengenali pola dalam data maupun melakukan pembuatan sebuah prediksi. Modelling menggunakan algoritma machine learning dengan beberapa model. Kemudian, hasil yang terbaik atau memiliki performa paling tinggi dari sebuah model akan disimpan ke dalam file pickle (pkl). Pemilihan model harus sesuai dengan tipe permasalahan pada data (klasifikasi, regresi, klastering, dll), dataframe ini adalah masalah klasifikasi. Sehingga, dilakukan pengolahan dengan model klasifikasi. Pada pengolahan data firewall ini menggunakan 5 model metode yang idgunakan untuk mengklasifikasikan yaitu Random Forest, decission Tree, Logistic Regresion, SVM, dan Naive Bayes. Dari kelima metode tersebut didapatkan hasil terbaik dengan menggunakan metode Random Forest dengan hasil 99,94%.</p>
<section id="random-forest" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="random-forest"><span class="header-section-number">1.4.1</span> Random Forest</h3>
<p>Random Forest adalah kumpulan pohon keputusan yang dibangun secara acak dan kemudian digabungkan untuk meningkatkan kinerja dan ketahanan terhadap overfitting. Dengan menggunakan Random Forest, kita dapat memanfaatkan keberagaman pohon keputusan yang dibangun secara acak untuk meningkatkan kinerja model dan mengurangi risiko overfitting. Algoritma ini cocok untuk berbagai masalah klasifikasi dan regresi dalam jumlah yang besar. Terdapat dua hal yang membuat algoritma ini disebut random, yaitu : 1. Setiap pohon tumbuh pada sampel bootstrap yang berbeda diambil dari data latih secara acak. 2. Dalam setiap <em>node split</em> selama pembentukan <em>decission tree</em>, sebagai sampel dari m variabel dipilih dari kumpulan data yang asli dan kemudian yang terbaik akan digunakan dalam node tersebut</p>
<p>Hasil prediksi dari <em>Random Forest</em> didapatkan mellaui hasil terbanyak dari setiap tree yang terbentuk.</p>
<p>Rumus Random Forest</p>
<p>Indeks Gini digunakan ntuk memutuskan bagaimanaa node pada pohon keputusan bercabang <span class="math display">\[ Gini = 1 - \sum_{i=1}^C (P_i)^2\]</span></p>
<p><span class="math inline">\(P_i\)</span> adalah proporsi dari kelas i dalam node.Gini Index membantu Random Forest memilih fitur-fitur yang efektif untuk memisahkan data pada setiap langkah pembentukan pohon keputusan.</p>
<p>Entropy <span class="math display">\[Entropy = - \sum_{i=1}^k(p_i). log_2(p_i)\]</span></p>
<p>Berikut adalah langkah-langkah teoritis untuk penggunaan Random Forest:</p>
<ol type="1">
<li><p>Inisialisasi Model Model Random Forest diinisialisasi dengan memilih jumlah pohon keputusan (n_estimators) dan kriteria pemisahan node pada setiap pohon (criterion). Pembuatan model berdasarkan berapa banyaknya proses normalisasi yang telah dilakukan dan diinginkan untuk diketahui hasilnya. Pada pengolahan data ini dengan menggunakan 2 normalisasi, sehingga dua model Random Forest diinisialisasi dengan menggunakan Z-Score (rf_model_zscore) dan MinMax (rf_model_minmax).</p></li>
<li><p>Pelatihan Model - Setiap pohon keputusan dilatih dengan menggunakan bootstrap (pengambilan sampel dengan pengembalian) dari data pelatihan. - Setiap pohon keputusan memilih subspace acak dari seluruh fitur yang tersedia. - Hasil dari setiap pohon keputusan diimbangi bersama untuk menghasilkan model ensemble.</p></li>
<li><p>Prediksi Setelah model dilatih, digunakan untuk melakukan prediksi pada data pengujian. Setiap pohon keputusan memberikan prediksi, dan hasil akhir adalah hasil mayoritas dari semua prediksi tersebut. Prediksi dilakukan menggunakan metode .predict.</p></li>
<li><p>Perhitungan Akurasi Akurasi model Random Forest dihitung dengan membandingkan prediksi dengan label sebenarnya pada data pengujian. Akurasi model biasanya dihitung menggunakan fungsi accuracy_score dari sklearn. Hasil akurasi dari kedua model dapat dicetak atau disimpan untuk perbandingan</p></li>
</ol>
<p>Contoh perhitungan manual dengan Gini Index dan Entropy pada suatu node. Data node :</p>
<pre><code>Kelas A : 10 data
Kelas B : 5 data 
Kelas C : 5 data </code></pre>
<p>Perhitungan Gini Index : $ Gini = 1 - _{i=1}^C (P_i)^2 \$ $ Gini = 1 - (p_A)^2 - (p_B)^2 - (p_C)^2 $</p>
<p>$ Gini = 1 - {10}{20}^2 - {5}{20}^2 - {5}{20}^2$</p>
<p>$ Gini = 1 - {100}{400} - {25}{400} - {25}{400}$</p>
<p>$ Gini = 1 - {150}{400}$</p>
<p>$ Gini $</p>
<p>Perhitungan Entropy :</p>
<p><span class="math inline">\(Entropy = - \sum_{i=1}^k(p_i). log_2(p_i)\)</span></p>
<p>$Entropy = - p_A.log_2(p_A) - p_B.log_2(p_B) - p_C.log_2(p_C) $</p>
<p><span class="math inline">\(Entropy = - (\frac{10}{20}.log_2(\frac{10}{20})) -(\frac{5}{20}.log_2(\frac{5}{20}))-(\frac{5}{20}.log_2(\frac{5}{20})))\)</span></p>
<p><span class="math inline">\(Entropy = -(\frac{10}{20}.(-1))-(\frac{5}{20}.(-2))-(\frac{5}{20}.(-2))\)</span></p>
<p><span class="math inline">\(Entropy = 0.5 +0.5 +0.5\)</span></p>
<p>$Entropy = 1.5 $</p>
<p>Jadi, pada contoh perhitungan manual ini didapatkan nilai Gini Index sekitar 0.625 dan Entropy 1.5 untuk node tersebut.</p>
<div class="cell" data-outputid="de177835-331f-44ac-e65f-9096de5d4cfd">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Inisialisasi list untuk menyimpan akurasi</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>accuracies_rf <span class="op">=</span> []</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>best_accuracy_rf <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>best_preprocessing <span class="op">=</span> <span class="va">None</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>best_estimators <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Random Forest dengan Z-Score</span></span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>rf_model_zscore <span class="op">=</span> RandomForestClassifier()</span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>rf_model_zscore.fit(X_train_standard, y_train)</span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>rf_pred_zscore <span class="op">=</span> rf_model_zscore.predict(X_test_standard)</span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>accuracy_zscore <span class="op">=</span> accuracy_score(y_test, rf_pred_zscore)</span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>accuracies_rf.append((<span class="st">'Z-Score'</span>, accuracy_zscore))</span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Random Forest dengan MinMax</span></span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>rf_model_minmax <span class="op">=</span> RandomForestClassifier()</span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>rf_model_minmax.fit(X_train_minmax, y_train)</span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a>rf_pred_minmax <span class="op">=</span> rf_model_minmax.predict(X_test_minmax)</span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a>accuracy_minmax <span class="op">=</span> accuracy_score(y_test, rf_pred_minmax)</span>
<span id="cb79-20"><a href="#cb79-20" aria-hidden="true" tabindex="-1"></a>accuracies_rf.append((<span class="st">'MinMax'</span>, accuracy_minmax))</span>
<span id="cb79-21"><a href="#cb79-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-22"><a href="#cb79-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Tampilkan akurasi Random Forest</span></span>
<span id="cb79-23"><a href="#cb79-23" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> preprocessing, accuracy <span class="kw">in</span> accuracies_rf:</span>
<span id="cb79-24"><a href="#cb79-24" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Akurasi Random Forest (</span><span class="sc">{</span>preprocessing<span class="sc">}</span><span class="ss">): </span><span class="sc">{</span>accuracy <span class="op">*</span> <span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">%"</span>)</span>
<span id="cb79-25"><a href="#cb79-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-26"><a href="#cb79-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Pilih jenis preprocessing dengan akurasi tertinggi</span></span>
<span id="cb79-27"><a href="#cb79-27" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> accuracy_zscore <span class="op">&gt;</span> accuracy_minmax:</span>
<span id="cb79-28"><a href="#cb79-28" aria-hidden="true" tabindex="-1"></a>    best_accuracy_rf <span class="op">=</span> accuracy_zscore</span>
<span id="cb79-29"><a href="#cb79-29" aria-hidden="true" tabindex="-1"></a>    best_preprocessing <span class="op">=</span> <span class="st">'Z-Score'</span></span>
<span id="cb79-30"><a href="#cb79-30" aria-hidden="true" tabindex="-1"></a>    best_rf_model <span class="op">=</span> rf_model_zscore</span>
<span id="cb79-31"><a href="#cb79-31" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb79-32"><a href="#cb79-32" aria-hidden="true" tabindex="-1"></a>    best_accuracy_rf <span class="op">=</span> accuracy_minmax</span>
<span id="cb79-33"><a href="#cb79-33" aria-hidden="true" tabindex="-1"></a>    best_preprocessing <span class="op">=</span> <span class="st">'MinMax'</span></span>
<span id="cb79-34"><a href="#cb79-34" aria-hidden="true" tabindex="-1"></a>    best_rf_model <span class="op">=</span> rf_model_minmax</span>
<span id="cb79-35"><a href="#cb79-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-36"><a href="#cb79-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Tampilkan akurasi terbaik</span></span>
<span id="cb79-37"><a href="#cb79-37" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Akurasi Terbaik (Preprocessing=</span><span class="sc">{</span>best_preprocessing<span class="sc">}</span><span class="ss">): </span><span class="sc">{</span>best_accuracy_rf <span class="op">*</span> <span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">%"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inisialisasi list untuk menyimpan akurasi</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>accuracies_rf_zscore <span class="op">=</span> []</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>accuracies_rf_minmax <span class="op">=</span> []</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>best_accuracy_rf_zscore <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>best_accuracy_rf_minmax <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>best_preprocessing_zscore <span class="op">=</span> <span class="va">None</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>best_preprocessing_minmax <span class="op">=</span> <span class="va">None</span></span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a>best_n_estimators_zscore <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a>best_n_estimators_minmax <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a>best_rf_model_zscore <span class="op">=</span> <span class="va">None</span>  <span class="co"># Inisialisasi model terbaik untuk Z-Score</span></span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a>best_rf_model_minmax <span class="op">=</span> <span class="va">None</span>  <span class="co"># Inisialisasi model terbaik untuk MinMax</span></span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop untuk menguji estimator dari 1 sampai 100</span></span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> n_estimators <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">101</span>):</span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Random Forest dengan n_estimators dan Z-Score</span></span>
<span id="cb80-17"><a href="#cb80-17" aria-hidden="true" tabindex="-1"></a>    rf_model_zscore <span class="op">=</span> RandomForestClassifier(n_estimators<span class="op">=</span>n_estimators, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb80-18"><a href="#cb80-18" aria-hidden="true" tabindex="-1"></a>    rf_model_zscore.fit(X_train_standard, y_train)</span>
<span id="cb80-19"><a href="#cb80-19" aria-hidden="true" tabindex="-1"></a>    rf_pred_zscore <span class="op">=</span> rf_model_zscore.predict(X_test_standard)</span>
<span id="cb80-20"><a href="#cb80-20" aria-hidden="true" tabindex="-1"></a>    accuracy_zscore <span class="op">=</span> accuracy_score(y_test, rf_pred_zscore)</span>
<span id="cb80-21"><a href="#cb80-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-22"><a href="#cb80-22" aria-hidden="true" tabindex="-1"></a>    accuracies_rf_zscore.append((<span class="ss">f'Z-Score (n_estimators=</span><span class="sc">{</span>n_estimators<span class="sc">}</span><span class="ss">)'</span>, accuracy_zscore))</span>
<span id="cb80-23"><a href="#cb80-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-24"><a href="#cb80-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Memilih model dengan akurasi tertinggi untuk Z-Score</span></span>
<span id="cb80-25"><a href="#cb80-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> accuracy_zscore <span class="op">&gt;</span> best_accuracy_rf_zscore:</span>
<span id="cb80-26"><a href="#cb80-26" aria-hidden="true" tabindex="-1"></a>        best_accuracy_rf_zscore <span class="op">=</span> accuracy_zscore</span>
<span id="cb80-27"><a href="#cb80-27" aria-hidden="true" tabindex="-1"></a>        best_preprocessing_zscore <span class="op">=</span> <span class="ss">f'Z-Score'</span></span>
<span id="cb80-28"><a href="#cb80-28" aria-hidden="true" tabindex="-1"></a>        best_n_estimators_zscore <span class="op">=</span> n_estimators</span>
<span id="cb80-29"><a href="#cb80-29" aria-hidden="true" tabindex="-1"></a>        best_rf_model_zscore <span class="op">=</span> rf_model_zscore</span>
<span id="cb80-30"><a href="#cb80-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-31"><a href="#cb80-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Random Forest dengan n_estimators dan MinMax</span></span>
<span id="cb80-32"><a href="#cb80-32" aria-hidden="true" tabindex="-1"></a>    rf_model_minmax <span class="op">=</span> RandomForestClassifier(n_estimators<span class="op">=</span>n_estimators, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb80-33"><a href="#cb80-33" aria-hidden="true" tabindex="-1"></a>    rf_model_minmax.fit(X_train_minmax, y_train)</span>
<span id="cb80-34"><a href="#cb80-34" aria-hidden="true" tabindex="-1"></a>    rf_pred_minmax <span class="op">=</span> rf_model_minmax.predict(X_test_minmax)</span>
<span id="cb80-35"><a href="#cb80-35" aria-hidden="true" tabindex="-1"></a>    accuracy_minmax <span class="op">=</span> accuracy_score(y_test, rf_pred_minmax)</span>
<span id="cb80-36"><a href="#cb80-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-37"><a href="#cb80-37" aria-hidden="true" tabindex="-1"></a>    accuracies_rf_minmax.append((<span class="ss">f'MinMax (n_estimators=</span><span class="sc">{</span>n_estimators<span class="sc">}</span><span class="ss">)'</span>, accuracy_minmax))</span>
<span id="cb80-38"><a href="#cb80-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-39"><a href="#cb80-39" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Memilih model dengan akurasi tertinggi untuk MinMax</span></span>
<span id="cb80-40"><a href="#cb80-40" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> accuracy_minmax <span class="op">&gt;</span> best_accuracy_rf_minmax:</span>
<span id="cb80-41"><a href="#cb80-41" aria-hidden="true" tabindex="-1"></a>        best_accuracy_rf_minmax <span class="op">=</span> accuracy_minmax</span>
<span id="cb80-42"><a href="#cb80-42" aria-hidden="true" tabindex="-1"></a>        best_preprocessing_minmax <span class="op">=</span> <span class="ss">f'MinMax'</span></span>
<span id="cb80-43"><a href="#cb80-43" aria-hidden="true" tabindex="-1"></a>        best_n_estimators_minmax <span class="op">=</span> n_estimators</span>
<span id="cb80-44"><a href="#cb80-44" aria-hidden="true" tabindex="-1"></a>        best_rf_model_minmax <span class="op">=</span> rf_model_minmax</span>
<span id="cb80-45"><a href="#cb80-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-46"><a href="#cb80-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Memilih model terbaik dari Z-Score dan MinMax</span></span>
<span id="cb80-47"><a href="#cb80-47" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> best_accuracy_rf_zscore <span class="op">&gt;</span> best_accuracy_rf_minmax:</span>
<span id="cb80-48"><a href="#cb80-48" aria-hidden="true" tabindex="-1"></a>    best_accuracy_rf <span class="op">=</span> best_accuracy_rf_zscore</span>
<span id="cb80-49"><a href="#cb80-49" aria-hidden="true" tabindex="-1"></a>    best_rf_model <span class="op">=</span> best_rf_model_zscore</span>
<span id="cb80-50"><a href="#cb80-50" aria-hidden="true" tabindex="-1"></a>    best_preprocessing <span class="op">=</span> best_preprocessing_zscore</span>
<span id="cb80-51"><a href="#cb80-51" aria-hidden="true" tabindex="-1"></a>    best_n_estimators <span class="op">=</span> best_n_estimators_zscore</span>
<span id="cb80-52"><a href="#cb80-52" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb80-53"><a href="#cb80-53" aria-hidden="true" tabindex="-1"></a>    best_accuracy_rf <span class="op">=</span> best_accuracy_rf_zscore</span>
<span id="cb80-54"><a href="#cb80-54" aria-hidden="true" tabindex="-1"></a>    best_rf_model <span class="op">=</span> best_rf_model_minmax</span>
<span id="cb80-55"><a href="#cb80-55" aria-hidden="true" tabindex="-1"></a>    best_preprocessing <span class="op">=</span> best_preprocessing_minmax</span>
<span id="cb80-56"><a href="#cb80-56" aria-hidden="true" tabindex="-1"></a>    best_n_estimators <span class="op">=</span> best_n_estimators_minmax</span>
<span id="cb80-57"><a href="#cb80-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Tampilkan akurasi Random Forest untuk Z-Score</span></span>
<span id="cb80-58"><a href="#cb80-58" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Akurasi untuk Z-Score:"</span>)</span>
<span id="cb80-59"><a href="#cb80-59" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> preprocessing, accuracy <span class="kw">in</span> accuracies_rf_zscore:</span>
<span id="cb80-60"><a href="#cb80-60" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>preprocessing<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>accuracy <span class="op">*</span> <span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">%"</span>)</span>
<span id="cb80-61"><a href="#cb80-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-62"><a href="#cb80-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Tampilkan akurasi terbaik untuk Z-Score</span></span>
<span id="cb80-63"><a href="#cb80-63" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Akurasi Terbaik (Preprocessing=</span><span class="sc">{</span>best_preprocessing_zscore<span class="sc">}</span><span class="ss">): </span><span class="sc">{</span>best_accuracy_rf_zscore <span class="op">*</span> <span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">% dengan n_estimators=</span><span class="sc">{</span>best_n_estimators_zscore<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb80-64"><a href="#cb80-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-65"><a href="#cb80-65" aria-hidden="true" tabindex="-1"></a><span class="co"># Tampilkan akurasi Random Forest untuk MinMax</span></span>
<span id="cb80-66"><a href="#cb80-66" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Akurasi untuk MinMax:"</span>)</span>
<span id="cb80-67"><a href="#cb80-67" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> preprocessing, accuracy <span class="kw">in</span> accuracies_rf_minmax:</span>
<span id="cb80-68"><a href="#cb80-68" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>preprocessing<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>accuracy <span class="op">*</span> <span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">%"</span>)</span>
<span id="cb80-69"><a href="#cb80-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-70"><a href="#cb80-70" aria-hidden="true" tabindex="-1"></a><span class="co"># Tampilkan akurasi terbaik untuk MinMax</span></span>
<span id="cb80-71"><a href="#cb80-71" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Akurasi Terbaik (Preprocessing=</span><span class="sc">{</span>best_preprocessing_minmax<span class="sc">}</span><span class="ss">): </span><span class="sc">{</span>best_accuracy_rf_minmax <span class="op">*</span> <span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">% dengan n_estimators=</span><span class="sc">{</span>best_n_estimators_minmax<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb80-72"><a href="#cb80-72" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb80-73"><a href="#cb80-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Tampilkan akurasi terbaik</span></span>
<span id="cb80-74"><a href="#cb80-74" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Akurasi Terbaik (Preprocessing=</span><span class="sc">{</span>best_preprocessing<span class="sc">}</span><span class="ss">): </span><span class="sc">{</span>best_accuracy_rf <span class="op">*</span> <span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">% dengan n_estimators=</span><span class="sc">{</span>best_n_estimators<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb80-75"><a href="#cb80-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-76"><a href="#cb80-76" aria-hidden="true" tabindex="-1"></a><span class="co"># Tampilkan model terbaik</span></span>
<span id="cb80-77"><a href="#cb80-77" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Model Terbaik: </span><span class="sc">{</span>best_rf_model<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Akurasi untuk Z-Score:
Z-Score (n_estimators=1): 99.89%
Z-Score (n_estimators=2): 99.90%
Z-Score (n_estimators=3): 99.92%
Z-Score (n_estimators=4): 99.94%
Z-Score (n_estimators=5): 99.93%
Z-Score (n_estimators=6): 99.93%
Z-Score (n_estimators=7): 99.94%
Z-Score (n_estimators=8): 99.94%
Z-Score (n_estimators=9): 99.93%
Z-Score (n_estimators=10): 99.93%
Z-Score (n_estimators=11): 99.94%
Z-Score (n_estimators=12): 99.94%
Z-Score (n_estimators=13): 99.94%
Z-Score (n_estimators=14): 99.94%
Z-Score (n_estimators=15): 99.94%
Z-Score (n_estimators=16): 99.94%
Z-Score (n_estimators=17): 99.94%
Z-Score (n_estimators=18): 99.94%
Z-Score (n_estimators=19): 99.94%
Z-Score (n_estimators=20): 99.94%
Z-Score (n_estimators=21): 99.94%
Z-Score (n_estimators=22): 99.93%
Z-Score (n_estimators=23): 99.93%
Z-Score (n_estimators=24): 99.93%
Z-Score (n_estimators=25): 99.93%
Z-Score (n_estimators=26): 99.94%
Z-Score (n_estimators=27): 99.94%
Z-Score (n_estimators=28): 99.93%
Z-Score (n_estimators=29): 99.94%
Z-Score (n_estimators=30): 99.94%
Z-Score (n_estimators=31): 99.94%
Z-Score (n_estimators=32): 99.94%
Z-Score (n_estimators=33): 99.94%
Z-Score (n_estimators=34): 99.94%
Z-Score (n_estimators=35): 99.94%
Z-Score (n_estimators=36): 99.94%
Z-Score (n_estimators=37): 99.94%
Z-Score (n_estimators=38): 99.94%
Z-Score (n_estimators=39): 99.94%
Z-Score (n_estimators=40): 99.94%
Z-Score (n_estimators=41): 99.94%
Z-Score (n_estimators=42): 99.94%
Z-Score (n_estimators=43): 99.94%
Z-Score (n_estimators=44): 99.94%
Z-Score (n_estimators=45): 99.94%
Z-Score (n_estimators=46): 99.94%
Z-Score (n_estimators=47): 99.94%
Z-Score (n_estimators=48): 99.94%
Z-Score (n_estimators=49): 99.94%
Z-Score (n_estimators=50): 99.94%
Z-Score (n_estimators=51): 99.94%
Z-Score (n_estimators=52): 99.94%
Z-Score (n_estimators=53): 99.94%
Z-Score (n_estimators=54): 99.94%
Z-Score (n_estimators=55): 99.94%
Z-Score (n_estimators=56): 99.94%
Z-Score (n_estimators=57): 99.94%
Z-Score (n_estimators=58): 99.94%
Z-Score (n_estimators=59): 99.94%
Z-Score (n_estimators=60): 99.94%
Z-Score (n_estimators=61): 99.94%
Z-Score (n_estimators=62): 99.94%
Z-Score (n_estimators=63): 99.94%
Z-Score (n_estimators=64): 99.94%
Z-Score (n_estimators=65): 99.94%
Z-Score (n_estimators=66): 99.94%
Z-Score (n_estimators=67): 99.94%
Z-Score (n_estimators=68): 99.94%
Z-Score (n_estimators=69): 99.94%
Z-Score (n_estimators=70): 99.94%
Z-Score (n_estimators=71): 99.94%
Z-Score (n_estimators=72): 99.94%
Z-Score (n_estimators=73): 99.94%
Z-Score (n_estimators=74): 99.94%
Z-Score (n_estimators=75): 99.94%
Z-Score (n_estimators=76): 99.94%
Z-Score (n_estimators=77): 99.94%
Z-Score (n_estimators=78): 99.94%
Z-Score (n_estimators=79): 99.94%
Z-Score (n_estimators=80): 99.94%
Z-Score (n_estimators=81): 99.94%
Z-Score (n_estimators=82): 99.94%
Z-Score (n_estimators=83): 99.94%
Z-Score (n_estimators=84): 99.94%
Z-Score (n_estimators=85): 99.94%
Z-Score (n_estimators=86): 99.94%
Z-Score (n_estimators=87): 99.94%
Z-Score (n_estimators=88): 99.94%
Z-Score (n_estimators=89): 99.94%
Z-Score (n_estimators=90): 99.94%
Z-Score (n_estimators=91): 99.94%
Z-Score (n_estimators=92): 99.94%
Z-Score (n_estimators=93): 99.94%
Z-Score (n_estimators=94): 99.94%
Z-Score (n_estimators=95): 99.94%
Z-Score (n_estimators=96): 99.94%
Z-Score (n_estimators=97): 99.94%
Z-Score (n_estimators=98): 99.94%
Z-Score (n_estimators=99): 99.94%
Z-Score (n_estimators=100): 99.94%

Akurasi Terbaik (Preprocessing=Z-Score): 99.94% dengan n_estimators=4

Akurasi untuk MinMax:
MinMax (n_estimators=1): 99.89%
MinMax (n_estimators=2): 99.89%
MinMax (n_estimators=3): 99.91%
MinMax (n_estimators=4): 99.93%
MinMax (n_estimators=5): 99.93%
MinMax (n_estimators=6): 99.93%
MinMax (n_estimators=7): 99.94%
MinMax (n_estimators=8): 99.94%
MinMax (n_estimators=9): 99.93%
MinMax (n_estimators=10): 99.93%
MinMax (n_estimators=11): 99.94%
MinMax (n_estimators=12): 99.94%
MinMax (n_estimators=13): 99.94%
MinMax (n_estimators=14): 99.94%
MinMax (n_estimators=15): 99.94%
MinMax (n_estimators=16): 99.94%
MinMax (n_estimators=17): 99.94%
MinMax (n_estimators=18): 99.94%
MinMax (n_estimators=19): 99.94%
MinMax (n_estimators=20): 99.94%
MinMax (n_estimators=21): 99.94%
MinMax (n_estimators=22): 99.93%
MinMax (n_estimators=23): 99.93%
MinMax (n_estimators=24): 99.93%
MinMax (n_estimators=25): 99.93%
MinMax (n_estimators=26): 99.94%
MinMax (n_estimators=27): 99.94%
MinMax (n_estimators=28): 99.93%
MinMax (n_estimators=29): 99.94%
MinMax (n_estimators=30): 99.94%
MinMax (n_estimators=31): 99.94%
MinMax (n_estimators=32): 99.94%
MinMax (n_estimators=33): 99.94%
MinMax (n_estimators=34): 99.94%
MinMax (n_estimators=35): 99.94%
MinMax (n_estimators=36): 99.94%
MinMax (n_estimators=37): 99.94%
MinMax (n_estimators=38): 99.94%
MinMax (n_estimators=39): 99.94%
MinMax (n_estimators=40): 99.94%
MinMax (n_estimators=41): 99.94%
MinMax (n_estimators=42): 99.94%
MinMax (n_estimators=43): 99.94%
MinMax (n_estimators=44): 99.94%
MinMax (n_estimators=45): 99.94%
MinMax (n_estimators=46): 99.94%
MinMax (n_estimators=47): 99.94%
MinMax (n_estimators=48): 99.94%
MinMax (n_estimators=49): 99.94%
MinMax (n_estimators=50): 99.94%
MinMax (n_estimators=51): 99.94%
MinMax (n_estimators=52): 99.94%
MinMax (n_estimators=53): 99.94%
MinMax (n_estimators=54): 99.94%
MinMax (n_estimators=55): 99.94%
MinMax (n_estimators=56): 99.94%
MinMax (n_estimators=57): 99.94%
MinMax (n_estimators=58): 99.94%
MinMax (n_estimators=59): 99.94%
MinMax (n_estimators=60): 99.94%
MinMax (n_estimators=61): 99.94%
MinMax (n_estimators=62): 99.94%
MinMax (n_estimators=63): 99.94%
MinMax (n_estimators=64): 99.94%
MinMax (n_estimators=65): 99.94%
MinMax (n_estimators=66): 99.94%
MinMax (n_estimators=67): 99.94%
MinMax (n_estimators=68): 99.94%
MinMax (n_estimators=69): 99.94%
MinMax (n_estimators=70): 99.94%
MinMax (n_estimators=71): 99.94%
MinMax (n_estimators=72): 99.94%
MinMax (n_estimators=73): 99.94%
MinMax (n_estimators=74): 99.94%
MinMax (n_estimators=75): 99.94%
MinMax (n_estimators=76): 99.94%
MinMax (n_estimators=77): 99.94%
MinMax (n_estimators=78): 99.94%
MinMax (n_estimators=79): 99.94%
MinMax (n_estimators=80): 99.94%
MinMax (n_estimators=81): 99.94%
MinMax (n_estimators=82): 99.94%
MinMax (n_estimators=83): 99.94%
MinMax (n_estimators=84): 99.94%
MinMax (n_estimators=85): 99.94%
MinMax (n_estimators=86): 99.94%
MinMax (n_estimators=87): 99.94%
MinMax (n_estimators=88): 99.94%
MinMax (n_estimators=89): 99.94%
MinMax (n_estimators=90): 99.94%
MinMax (n_estimators=91): 99.94%
MinMax (n_estimators=92): 99.94%
MinMax (n_estimators=93): 99.94%
MinMax (n_estimators=94): 99.94%
MinMax (n_estimators=95): 99.94%
MinMax (n_estimators=96): 99.94%
MinMax (n_estimators=97): 99.94%
MinMax (n_estimators=98): 99.94%
MinMax (n_estimators=99): 99.94%
MinMax (n_estimators=100): 99.94%

Akurasi Terbaik (Preprocessing=MinMax): 99.94% dengan n_estimators=48

Akurasi Terbaik (Preprocessing=MinMax): 99.94% dengan n_estimators=48

Model Terbaik: RandomForestClassifier(n_estimators=48, random_state=42)</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pickle</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>model_filename <span class="op">=</span> <span class="st">'best_random_forest_model.pkl'</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(model_filename, <span class="st">'wb'</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>    pickle.dump(best_rf_model, <span class="bu">file</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Terdapat kelas yag tidak muncul dalam prediksi. Hal ini bisa disebabkan karena ketidakseimbangan kelas dalam data uji. Sehingga, model ini sulit untuk melakukan prediksi kelas yang memiliki representasi yang kecil dalam data pelatihan.</p>
</section>
<section id="decision-tree" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="decision-tree"><span class="header-section-number">1.4.2</span> Decision Tree</h3>
<p>Decission Tree merupakan model pembelajaran mesin yang memodelkan keputusan dan hubungan menggunakan pohon keputusan atau struktur pohon. Algoritma ini memecah data menjadi bagian-bagian yang lebih kecil dan mengambil keputusan di setiap simpul (node) pohon. Rumus Decision Tree untuk menyeleesaikan klasifikasi :</p>
<ol type="1">
<li>Gini Index untuk Node</li>
</ol>
<p><span class="math inline">\(Gini = 1 - \sum_{i=1}^k(p_i)^2\)</span></p>
<p>nilai <span class="math inline">\(p_i\)</span> adalah proporsi dari kelas 1 ddalam node tersebut.</p>
<ol start="2" type="1">
<li>Gini Index untuk Pemisahan(Split)</li>
</ol>
<p><span class="math inline">\(Gini_{split} = \sum_{j=1}^m \frac{n_j}{N} . Gini_j\)</span></p>
<p>Keterangan :</p>
<p><span class="math inline">\(n_j\)</span> = jumlah data dalam subset j</p>
<p><span class="math inline">\(N\)</span> = total jumlah data</p>
<p><span class="math inline">\(Gini_j\)</span> = Gini Index untuk node subset j</p>
<ol start="3" type="1">
<li>Information Gain :</li>
</ol>
<p><span class="math inline">\(Information Gain = Gini_{parent} - Gini{split}\)</span></p>
<p>Keterangan :</p>
<p><span class="math inline">\(Gini_{parent}\)</span> = Gini Index untuk node sebelum pemisahan.</p>
<p>Perhitungan manual :</p>
<p>Kelas A : 20 data Kelas B : 15 data Kelas C : 15 data</p>
<p>$Gini_{parent} = 1 - ()^2 - ()<sup>2-()</sup>2 $</p>
<p><span class="math inline">\(Gini_{parent} \approx 0.64\)</span></p>
<p>Pemisahan(split) dengan fitur X :</p>
<ul>
<li>subset 1 (X $ $ 5 ) : kelas A:10, Kelas B:5, Kelas C:0</li>
<li>subset 2 (X &gt; 5): kelas A:10, Kelas B:10, Kelas C : 15</li>
</ul>
<p><span class="math inline">\(Gini_1 = 1- (\frac{10}{15})^2 - (\frac{5}{15})^2\)</span></p>
<p><span class="math inline">\(Gini_1 \approx 0.44\)</span></p>
<p><span class="math inline">\(Gini_2 = 1- (\frac{10}{35})^2 - (\frac{10}{35})^2 - (\frac{15}{35})^2\)</span></p>
<p><span class="math inline">\(Gini_2 \approx 0.65\)</span></p>
<p><span class="math inline">\(Gini_{split} = \frac{15}{50}. \ 0.44 + \frac{35}{50}.\ 0.65\)</span></p>
<p>$Gini_{split} $</p>
<p><span class="math inline">\(Information Gain = 0.64 - 0.57\)</span></p>
<p><span class="math inline">\(Information Gain \approx 0.07\)</span></p>
<p>Proses perhitungan ini diulang pada setiap fitur dan nilai ambang untuk memilih pemisahan terbaik yang memberikan Information Gain maksimal.</p>
<p>Cara Kerja Decision Tree :</p>
<ol type="1">
<li><p>Pembentukan pohon keputusan</p>
<p>Decision Tree membangun pohon keputusan berdasarkan pemilihan fitur yang paling informatif pada setiap langkahnya.Fitur yang paling informatif diidentifikasi berdasarkan kriteria seperti Gini impurity, Information Gain, atau Gain Ratio.</p></li>
<li><p>Pemilihan fitur terbaik</p>
<p>Decision Tree memilih fitur yang paling baik memisahkan dataset berdasarkan kelas target. Hal ini dilakukan untuk meningkatkan informasi.</p></li>
<li><p>Pembentukan cabang dan daun</p>
<p>Pohon dibentuk dengan mengulangi langkah pemilihan fitur setiap cabang sampai mencapai daun yang mewakili kelas atau nilai prediksi.</p></li>
<li><p>Keputusan berbasis pohon</p>
<p>Ketika ada data baru, Decision Tree mengambil keputusan berdasarkan jalur yang dilalui dalam pohon dari akar ke daun.</p></li>
<li><p>Pemangkasan(pruning)</p>
<p>Teknik pemangkasan dapat diterapkan untuk mencegah overfitting dengan menghapus beberapa bagian dari pohon keputusan. Pemangkasan ini dilakukan untk memastikan bahwa pohon tidak teralu kompleks dengan spesifik sehingga kinerjanya menurun pada data yang tidak terlihat sebelumnya.</p></li>
<li><p>Prediksi</p>
<p>Setelah pohon dibentuk, model dapat digunakan untuk melakukan prediksi terhadap data baru dengan melewati pohon berdasarkan fitur-fitur yang dimiliki oleh data tersebut.</p></li>
</ol>
<p>Langkah-langkah :</p>
<ol type="1">
<li><p>Inisialisasi Model</p>
<p>Karena dalam Decision Tree memiliki banyak parameter, tetapi yang utama adalah criterion (kriteria pemisahan node, misalnya ‘gini’ atau ‘entropy’). Pembuatan model berrdasarkan berapa banyaknya proses normalisasi yang telah dilakukan dan diinginkan untuk diketahui hasilnya. Pada pengolahan data ini dengan mengggunakan 2 normalisasi, sehingga dua model Decision Tree diinisialisasi dengan menggunakan Z-Score (dt_model_zscore) dan MinMax (dt_model_minmax).</p></li>
<li><p>Pelatihan Model pada dataset pengujian</p>
<p>Model Decission Tree dilatih dengan data pelatihan menggunakan metode .fit .</p></li>
<li><p>Prediksi pada dataset pengujian</p>
<p>Setelah model dilatih, digunakan untuk melakukan prediksi pada data pengujian. Prediksi dilakukan menggunakan metode .predict.</p></li>
<li><p>Pengukuran Akurasi</p>
<p>Akurasi model Decision Tree dihitung menggunakan fungsi accuracy_score dari sklearn.</p></li>
</ol>
<div class="cell" data-outputid="892cd712-6359-4556-ffdb-6d61ecaa5bd0" data-execution_count="49">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inisialisasi list untuk menyimpan akurasi</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>accuracies_dt <span class="op">=</span> []</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>best_accuracy_dt <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>best_preprocessing <span class="op">=</span> <span class="va">None</span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Decision Tree dengan Z-Score</span></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>dt_model_zscore <span class="op">=</span> DecisionTreeClassifier()</span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>dt_model_zscore.fit(X_train_standard, y_train)</span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a><span class="co"># model Decision Tree digunakan untuk membuat prediksi berdasarkan jalur yang dilalui dalam pohon dari akar ke daun</span></span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a>dt_pred_zscore <span class="op">=</span> dt_model_zscore.predict(X_test_standard)</span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a>accuracy_zscore <span class="op">=</span> accuracy_score(y_test, dt_pred_zscore)</span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a>accuracies_dt.append((<span class="st">'Z-Score'</span>, accuracy_zscore))</span>
<span id="cb83-13"><a href="#cb83-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-14"><a href="#cb83-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Decision Tree dengan MinMax</span></span>
<span id="cb83-15"><a href="#cb83-15" aria-hidden="true" tabindex="-1"></a>dt_model_minmax <span class="op">=</span> DecisionTreeClassifier()</span>
<span id="cb83-16"><a href="#cb83-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Prediksi pada dattaset pengujian</span></span>
<span id="cb83-17"><a href="#cb83-17" aria-hidden="true" tabindex="-1"></a>dt_model_minmax.fit(X_train_minmax, y_train)</span>
<span id="cb83-18"><a href="#cb83-18" aria-hidden="true" tabindex="-1"></a><span class="co"># model Decision Tree digunakan untuk membuat prediksi berdasarkan jalur yang dilalui dalam pohon dari akar ke daun</span></span>
<span id="cb83-19"><a href="#cb83-19" aria-hidden="true" tabindex="-1"></a>dt_pred_minmax <span class="op">=</span> dt_model_minmax.predict(X_test_minmax)</span>
<span id="cb83-20"><a href="#cb83-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Pengukuran akurasi</span></span>
<span id="cb83-21"><a href="#cb83-21" aria-hidden="true" tabindex="-1"></a>accuracy_minmax <span class="op">=</span> accuracy_score(y_test, dt_pred_minmax)</span>
<span id="cb83-22"><a href="#cb83-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Menyimpan akurasi dalam list</span></span>
<span id="cb83-23"><a href="#cb83-23" aria-hidden="true" tabindex="-1"></a>accuracies_dt.append((<span class="st">'MinMax'</span>, accuracy_minmax))</span>
<span id="cb83-24"><a href="#cb83-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-25"><a href="#cb83-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Menampilkan akurasi Decision Tree</span></span>
<span id="cb83-26"><a href="#cb83-26" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> preprocessing, accuracy <span class="kw">in</span> accuracies_dt:</span>
<span id="cb83-27"><a href="#cb83-27" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Akurasi Decision Tree (</span><span class="sc">{</span>preprocessing<span class="sc">}</span><span class="ss">): </span><span class="sc">{</span>accuracy <span class="op">*</span> <span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">%"</span>)</span>
<span id="cb83-28"><a href="#cb83-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-29"><a href="#cb83-29" aria-hidden="true" tabindex="-1"></a><span class="co"># pemilihan jenis preprocessing dengan akurasi tertinggi</span></span>
<span id="cb83-30"><a href="#cb83-30" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> accuracy_zscore <span class="op">&gt;</span> accuracy_minmax:</span>
<span id="cb83-31"><a href="#cb83-31" aria-hidden="true" tabindex="-1"></a>    best_accuracy_dt <span class="op">=</span> accuracy_zscore</span>
<span id="cb83-32"><a href="#cb83-32" aria-hidden="true" tabindex="-1"></a>    best_preprocessing <span class="op">=</span> <span class="st">'Z-Score'</span></span>
<span id="cb83-33"><a href="#cb83-33" aria-hidden="true" tabindex="-1"></a>    best_dt_model <span class="op">=</span> dt_model_zscore</span>
<span id="cb83-34"><a href="#cb83-34" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb83-35"><a href="#cb83-35" aria-hidden="true" tabindex="-1"></a>    best_accuracy_dt <span class="op">=</span> accuracy_minmax</span>
<span id="cb83-36"><a href="#cb83-36" aria-hidden="true" tabindex="-1"></a>    best_preprocessing <span class="op">=</span> <span class="st">'MinMax'</span></span>
<span id="cb83-37"><a href="#cb83-37" aria-hidden="true" tabindex="-1"></a>    best_dt_model <span class="op">=</span> dt_model_minmax</span>
<span id="cb83-38"><a href="#cb83-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-39"><a href="#cb83-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Menampilkan akurasi terbaik</span></span>
<span id="cb83-40"><a href="#cb83-40" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Akurasi Terbaik (Preprocessing=</span><span class="sc">{</span>best_preprocessing<span class="sc">}</span><span class="ss">): </span><span class="sc">{</span>best_accuracy_dt <span class="op">*</span> <span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">%"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Akurasi Decision Tree (Z-Score): 99.94%
Akurasi Decision Tree (MinMax): 99.94%

Akurasi Terbaik (Preprocessing=MinMax): 99.94%</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pickle</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>model_filename <span class="op">=</span> <span class="st">'best_dt.pkl'</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(model_filename, <span class="st">'wb'</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>    pickle.dump(best_dt_model, <span class="bu">file</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="logistic-regression" class="level3" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="logistic-regression"><span class="header-section-number">1.4.3</span> Logistic Regression</h3>
<p>Logistic Regression adalah algoritma klasifikasi yang digunakan untuk memodelkan probabilitas bahwa suatu instance/data point akan termasuk ke dalam kelas tertentu.Algoritma ini menggunakan fungsi logistik (sigmoid) untuk menghasilkan output antara 0 dan 1, yang diinterpretasikan sebagai probabilitas. Untuk mencari nilai logistic regression, dilakukan beberapa tahapan sebagai berikut :</p>
<p>Rumus :</p>
<p><span class="math inline">\(P(Y=1) = \frac{1}{1+e ^ -(b_0+b_1.X_1+b_2.X_2+...+b_n.X_n)}\)</span></p>
<p>Keterangan :</p>
<ul>
<li><span class="math inline">\(P(Y=1)\)</span> adalah probabilitas bahwa variabel dependen</li>
<li><span class="math inline">\(Y\)</span> sama dengan 1 (kelas positif).</li>
<li><span class="math inline">\(e\)</span> adalah bilangan Euler (sekitar 2.71828).</li>
<li><span class="math inline">\(b_0\)</span> adalah intercept (konstanta) dari model.</li>
<li><span class="math inline">\(b_1, b_2, \ldots, b_n\)</span> adalah koefisien dari masing-masing fitur <span class="math inline">\(X_1, X_2, \ldots, X_n\)</span>.</li>
<li><span class="math inline">\(X_1, X_2, \ldots, X_n\)</span> adalah variabel-variabel independen atau fitur-fitur yang digunakan dalam model.</li>
</ul>
<div class="cell" data-outputid="68133b61-5ae7-4170-91f2-daf83939892b" data-scrolled="true" data-execution_count="50">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LogisticRegression</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>akurasi<span class="op">=</span>[]</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>lr_model <span class="op">=</span> LogisticRegression()</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>lr_model.fit(X_train_standard, y_train)</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>lr_pred <span class="op">=</span> lr_model.predict(X_test_standard)</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>lr_accuracy <span class="op">=</span> accuracy_score(y_test, lr_pred)</span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>akurasi.append((<span class="st">'Z-Score'</span>,lr_accuracy))</span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>lr_model.fit(X_train_minmax, y_train)</span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a>lr_pred2 <span class="op">=</span> lr_model.predict(X_test_minmax)</span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a>lr_accuracy2 <span class="op">=</span> accuracy_score(y_test, lr_pred2)</span>
<span id="cb86-13"><a href="#cb86-13" aria-hidden="true" tabindex="-1"></a>akurasi.append((<span class="st">'MinMax'</span>,lr_accuracy2))</span>
<span id="cb86-14"><a href="#cb86-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> preprocessing, accuracy <span class="kw">in</span> akurasi:</span>
<span id="cb86-15"><a href="#cb86-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Akurasi Logistic Regression (</span><span class="sc">{</span>preprocessing<span class="sc">}</span><span class="ss">): </span><span class="sc">{</span>accuracy <span class="op">*</span> <span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">%"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\ASUS\anaconda3\lib\site-packages\sklearn\linear_model\_logistic.py:458: ConvergenceWarning: lbfgs failed to converge (status=1):
STOP: TOTAL NO. of ITERATIONS REACHED LIMIT.

Increase the number of iterations (max_iter) or scale the data as shown in:
    https://scikit-learn.org/stable/modules/preprocessing.html
Please also refer to the documentation for alternative solver options:
    https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression
  n_iter_i = _check_optimize_result(</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Akurasi Logistic Regression (Z-Score): 81.99%
Akurasi Logistic Regression (MinMax): 77.94%</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\ASUS\anaconda3\lib\site-packages\sklearn\linear_model\_logistic.py:458: ConvergenceWarning: lbfgs failed to converge (status=1):
STOP: TOTAL NO. of ITERATIONS REACHED LIMIT.

Increase the number of iterations (max_iter) or scale the data as shown in:
    https://scikit-learn.org/stable/modules/preprocessing.html
Please also refer to the documentation for alternative solver options:
    https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression
  n_iter_i = _check_optimize_result(</code></pre>
</div>
</div>
</section>
<section id="svm" class="level3" data-number="1.4.4">
<h3 data-number="1.4.4" class="anchored" data-anchor-id="svm"><span class="header-section-number">1.4.4</span> SVM</h3>
<p>SVM adalah algoritma pembelajaran mesin yang digunakan untuk tugas klasifikasi dan regresi. SVM bertujuan untuk menemukan hyperplane terbaik yang memisahkan dua kelas dengan margin terbesar. Hyperplane ini adalah garis atau permukaan yang memaksimalkan jarak antara kelas-kelas tersebut.</p>
<p>Rumus SVM :</p>
<p><span class="math inline">\(w⋅x+b=0\)</span></p>
<p>Keterangan: - <span class="math inline">\(w\)</span> : weights atau vektor bobot yang memiliki panjang yang sama dengan vektor fitur <span class="math inline">\(x\)</span>. Setiap elemen vektor <span class="math inline">\(w\)</span> mengukur pengaruh relatif dari masing-masing fitur terhadap keputusan.</p>
<ul>
<li><p><span class="math inline">\(x\)</span> : vektor input yang merupakan data yang akan diklasifikasi</p></li>
<li><p><span class="math inline">\(b\)</span> : bias yaitu parameter yang memungkinkan penyesuaian posisi hyperplane tanpa mengubah arahnya.</p></li>
<li><p><span class="math inline">\(\cdot\)</span> : operasi dot product(hasil kali titik) antara vektor <span class="math inline">\(w\)</span> dan <span class="math inline">\(x\)</span>.</p></li>
</ul>
<p>Cara Kerja SVM : 1. Pemilihan hyperplane</p>
<pre><code>SVM mencari hyperplane yang memaksimalkan margin antara kelas.Margin dihitung sebagai jarak antara hyperplane dan titik terdekat dari setiap kelas.</code></pre>
<ol start="2" type="1">
<li><p>Penanganan data yang tidak terpisah linear</p>
<p>Untuk kasus di mana data tidak dapat dipisahkan secara linear, SVM menggunakan teknik kernel untuk mentransformasi data ke dimensi yang lebih tinggi sehingga menjadi dapat dipisahkan.</p></li>
<li><p>Penentuan vektor dukungan (Support Vector)</p>
<p>Support vectors adalah sampel data yang berada di sekitar margin atau di sisi yang salah dari hyperplane.</p></li>
<li><p>Penentuan bobot dan bias</p>
<p>SVM mencari bobot (w) dan bias (b) yang memenuhi kendala dan meminimalkan fungsi tujuan.</p></li>
<li><p>Keputusan klasifikasi</p>
<p>Setelah melatih model, SVM dapat digunakan untuk klasifikasi data baru berdasarkan fungsi keputusan <span class="math inline">\((f(x))\)</span></p></li>
</ol>
<div class="cell" data-outputid="ebe7fc6c-3473-42ad-d4a6-3acda79930a5" data-execution_count="52">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># SVM dengan Zscore</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>svm_model_zscore <span class="op">=</span> SVC()</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>svm_model_zscore.fit(X_train_standard, y_train)</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>svm_pred_zscore <span class="op">=</span> svm_model_zscore.predict(X_test_standard)</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>accuracy_svm_zscore <span class="op">=</span> accuracy_score(y_test, svm_pred_zscore)</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a><span class="co"># SVM dengan MinMax</span></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>svm_model_minmax <span class="op">=</span> SVC()</span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>svm_model_minmax.fit(X_train_minmax, y_train)</span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a>svm_pred_minmax <span class="op">=</span> svm_model_minmax.predict(X_test_minmax)</span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>accuracy_svm_minmax <span class="op">=</span> accuracy_score(y_test, svm_pred_minmax)</span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Tampilkan akurasi SVM</span></span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Akurasi SVM dengan Z-Score: </span><span class="sc">{</span>accuracy_svm_zscore <span class="op">*</span> <span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">%"</span>)</span>
<span id="cb91-15"><a href="#cb91-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Akurasi SVM dengan MinMax: </span><span class="sc">{</span>accuracy_svm_minmax <span class="op">*</span> <span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">%"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Akurasi SVM dengan Z-Score: 85.26%
Akurasi SVM dengan MinMax: 84.39%</code></pre>
</div>
</div>
</section>
<section id="naive-bayes" class="level3" data-number="1.4.5">
<h3 data-number="1.4.5" class="anchored" data-anchor-id="naive-bayes"><span class="header-section-number">1.4.5</span> Naive Bayes</h3>
<p>Naive Bayes adalah algoritma klasifikasi probabilistik yang berdasarkan teorema Bayes dengan asumsi bahwa fitur-fitur yang digunakan untuk menggambarkan instance adalah independen satu sama lain. Naive Bayes mengasumsikan bahwa keberadaan suatu fitur dalam suatu kelas tidak terkait dengan keberadaan fitur lainnya.</p>
<p>Rumus dasar teorema bayes :</p>
<p><span class="math inline">\(P(y|X) = \frac{(P(y|X).P(y)}{P(X)}\)</span></p>
<p>Langkah-langkah :</p>
<ol type="1">
<li><p>Inisialisasi model</p>
<p>Tiga jenis utama Naive Bayes adalah:</p>
<p>1.) Gaussian Naive Bayes: Cocok untuk data yang terdistribusi normal.</p>
<p>2.) Multinomial Naive Bayes: Cocok untuk data yang terdistribusi multinomial, seperti teks.</p>
<p>3.) Bernoulli Naive Bayes: Cocok untuk data biner (0 atau 1).</p>
<p>Jika pada pengolahan data terdapat 2 normalisasi, maka ketike melakukan inisialisasi model juga melakukan 2 kali dengan menggunakan fungsi distribusi gaussian.</p></li>
<li><p>Pelatihan model</p></li>
</ol>
<ul>
<li>Menghitung probabilitas prior untuk setiap kelas dan probabilitas kondisional untuk setiap fitur yang diberikan kelas.</li>
<li>Karena dalam data ini menggunakan 2 normalisasi, sehingga untuk melakukan perhitungan akurasi dengan model naive bayes juga diperlukan 2 data pelatihan yang berbeda. - Data pelatihan (X_train_standard, y_train) digunakan untuk melatih model Naive Bayes dengan Z-Score. - Data pelatihan (X_train_minmax, y_train) digunakan untuk melatih model Naive Bayes dengan MinMax.</li>
</ul>
<ol start="3" type="1">
<li><p>Prediksi Untuk mendapatkan nilai prediksi, menggunakan kembali model yang telah dilatih untuk memprediksi kelas baru berdasarkan nilai fitur yang diberikan. Model yang telah dilatih, digunakan untuk membuat prediksi pada data pengujian. Kemudian dalam melakukan prediksi menggunakan fungsi .predic pada pengujian X_test_standard dan X_test minmmax.</p></li>
<li><p>Perhitungan akurasi Menghitung akurasi dari prediksi Naive Bayes dengan Z-Score dan MinMax. Akurasi diukur menggunakan fungsi ‘accuracy_score’ dari sklearn.</p></li>
</ol>
<div class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Naive Bayes dengan Z-Score</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>nb_model_zscore <span class="op">=</span> GaussianNB()</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>nb_model_zscore.fit(X_train_standard, y_train)</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>nb_pred_zscore <span class="op">=</span> nb_model_zscore.predict(X_test_standard)</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>accuracy_nb_zscore <span class="op">=</span> accuracy_score(y_test, nb_pred_zscore)</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Naive Bayes dengan MinMax</span></span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>nb_model_minmax <span class="op">=</span> GaussianNB()</span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>nb_model_minmax.fit(X_train_minmax, y_train)</span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>nb_pred_minmax <span class="op">=</span> nb_model_minmax.predict(X_test_minmax)</span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>accuracy_nb_minmax <span class="op">=</span> accuracy_score(y_test, nb_pred_minmax)</span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Tampilkan akurasi Naive Bayes</span></span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Akurasi Naive Bayes dengan Z-Score: </span><span class="sc">{</span>accuracy_nb_zscore <span class="op">*</span> <span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">%"</span>)</span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Akurasi Naive Bayes dengan MinMax: </span><span class="sc">{</span>accuracy_nb_minmax <span class="op">*</span> <span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">%"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Akurasi Naive Bayes dengan Z-Score: 79.34%
Akurasi Naive Bayes dengan MinMax: 79.34%</code></pre>
</div>
</div>
</section>
<section id="mendapatkan-model-terbaik" class="level3" data-number="1.4.6">
<h3 data-number="1.4.6" class="anchored" data-anchor-id="mendapatkan-model-terbaik"><span class="header-section-number">1.4.6</span> Mendapatkan Model Terbaik</h3>
<p>Setelah melakukan permodelan , untuk mendapatkan model yang terbaik untuk pengolahan data ini.</p>
<div class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="co"># List untuk menyimpan hasil akurasi</span></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>models <span class="op">=</span> [</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>          <span class="st">'Random Forest'</span>,</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>          <span class="st">'Decision Tree'</span>,</span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>          <span class="st">'SVM (Zscore)'</span>,</span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a>          <span class="st">'SVM (Minmax)'</span>,</span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>          <span class="st">'Logistic Regression Z-Score'</span>,</span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a>          <span class="st">'Logistic Regression (MinMax)'</span>,</span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a>          <span class="st">'Naive Bayes (Z-Score)'</span>,</span>
<span id="cb95-12"><a href="#cb95-12" aria-hidden="true" tabindex="-1"></a>          <span class="st">'Naive Bayes (MinMax)'</span>]</span>
<span id="cb95-13"><a href="#cb95-13" aria-hidden="true" tabindex="-1"></a>accuracies <span class="op">=</span> [</span>
<span id="cb95-14"><a href="#cb95-14" aria-hidden="true" tabindex="-1"></a>              best_accuracy_rf,</span>
<span id="cb95-15"><a href="#cb95-15" aria-hidden="true" tabindex="-1"></a>              best_accuracy_dt,</span>
<span id="cb95-16"><a href="#cb95-16" aria-hidden="true" tabindex="-1"></a>              accuracy_svm_zscore,</span>
<span id="cb95-17"><a href="#cb95-17" aria-hidden="true" tabindex="-1"></a>              accuracy_svm_minmax,</span>
<span id="cb95-18"><a href="#cb95-18" aria-hidden="true" tabindex="-1"></a>              lr_accuracy,</span>
<span id="cb95-19"><a href="#cb95-19" aria-hidden="true" tabindex="-1"></a>              lr_accuracy2,</span>
<span id="cb95-20"><a href="#cb95-20" aria-hidden="true" tabindex="-1"></a>              accuracy_nb_zscore,</span>
<span id="cb95-21"><a href="#cb95-21" aria-hidden="true" tabindex="-1"></a>              accuracy_nb_minmax]</span>
<span id="cb95-22"><a href="#cb95-22" aria-hidden="true" tabindex="-1"></a><span class="co"># accuracies = [lr_accuracy, lr_accuracy2, accuracy_svm_zscore, accuracy_svm_minmax, best_accuracy_rf, best_accuracy_dt, accuracy_nb_zscore, accuracy_nb_minmax]</span></span>
<span id="cb95-23"><a href="#cb95-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-24"><a href="#cb95-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Membuat grafik batang</span></span>
<span id="cb95-25"><a href="#cb95-25" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb95-26"><a href="#cb95-26" aria-hidden="true" tabindex="-1"></a>plt.bar(models, accuracies, color<span class="op">=</span>[<span class="st">'blue'</span>, <span class="st">'orange'</span>, <span class="st">'purple'</span>, <span class="st">'yellow'</span>, <span class="st">'grey'</span>, <span class="st">'pink'</span>])</span>
<span id="cb95-27"><a href="#cb95-27" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">0</span>, <span class="dv">1</span>)  <span class="co"># Sesuaikan dengan rentang akurasi (0-1)</span></span>
<span id="cb95-28"><a href="#cb95-28" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Perbandingan Akurasi Model'</span>)</span>
<span id="cb95-29"><a href="#cb95-29" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Model'</span>)</span>
<span id="cb95-30"><a href="#cb95-30" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Akurasi'</span>)</span>
<span id="cb95-31"><a href="#cb95-31" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>)  <span class="co"># Rotasi label x-axis agar lebih mudah dibaca</span></span>
<span id="cb95-32"><a href="#cb95-32" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="21041110004_DinaViolina_Firewall_files/figure-html/cell-57-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="evaluasi-model" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="evaluasi-model"><span class="header-section-number">1.5</span> 4. Evaluasi Model</h2>
<p>Evaluasi model dilakukan untuk mengukur seberapa baik model dapat melakukan prediksi atau klasifikasi. Evaluasi untuk mengukur performa model pada klasifikasi meliputi akurasi, F_1 Score, Precission, dan Recall. Evaluasi model bisa ditampilkan melalui tabel confussion matrix untuk mengukur kinerja metode permodelan tersebut dalam mengetahui seberapa banyak model mampu melakukan prediksi dengan benar dan salah pada total keseluruhan dataset.</p>
<p>Salah satu cara untuk menyajikan evaluasi model secara menyeluruh adalah dengan Confussion Matrix. Dalam konteks Confusion Matrix, dengan mengidentifikasi True Positive (TP), True Negative (TN), False Positive (FP), dan False Negative (FN) berdasarkan posisi elemen-elemen dalam matriks.Elemen-elemen dalam matriks ini memberikan gambaran tentang seberapa baik model dapat mengenali kelas positif dan negatif, serta seberapa sering model memberikan prediksi yang benar atau salah.</p>
<p><span class="math display">\[
\begin{bmatrix}
TN \ \ \ FP\\
FN \ \ \ TP
\end{bmatrix}
\]</span></p>
<p>Berikut adalah definisi dari setiap elemen:</p>
<ul>
<li>True Positive (TP): Jumlah sampel positif yang diprediksi dengan benar.</li>
<li>True Negative (TN): Jumlah sampel negatif yang diprediksi dengan benar.</li>
<li>False Positive (FP): Jumlah sampel negatif yang salah diprediksi sebagai positif.</li>
<li>False Negative (FN): Jumlah sampel positif yang salah diprediksi sebagai negatif.</li>
</ul>
<section id="akurasi-accuracy" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="akurasi-accuracy"><span class="header-section-number">1.5.1</span> 1. Akurasi (Accuracy)</h3>
<p><span class="math inline">\(Accuracy = \frac{TP+TN}{TP+TN+FP+FN}\)</span></p>
  </section>
<p>Akurasi adalah rasio prediksi benar (positif dan negatif) atau True Positif dan True Negative dibandingkan dengan total data. 2. Precission</p>
<section id="akurasi-accuracy" class="level3" data-number="1.5.2">
  <h3 data-number="1.5.2" class="anchored" data-anchor-id="precission"><span class="header-section-number">1.5.2</span> 2. Precission</h3>
<p><span class="math inline">\(Precision = \frac{TP}{TP+FP}\)</span></p>
  
<p>Presisi mendefinisikan rasio dari data bernilai positif benar (True Positive) terhadap jumlah positif benar(True Positive) dan positif salah (False Positive)</p>
</section>
<section id="recall" class="level3" data-number="1.5.3">
<h3 data-number="1.5.3" class="anchored" data-anchor-id="recall"><span class="header-section-number">1.5.3</span> 3. Recall</h3>
<p><span class="math inline">\(Recall = \frac{TP}{TP+FN}\)</span></p>
<p>Recall merupakan rasio prediksi benar positif dibandingkan dengan keseluruhan data yang benar-benar positif.</p>
</section>
<section id="support" class="level3" data-number="1.5.4">
<h3 data-number="1.5.4" class="anchored" data-anchor-id="support"><span class="header-section-number">1.5.4</span> 4. Support</h3>
<p><span class="math inline">\(Support = TP+FN\)</span></p>
<p>Support adalah jumlah aktual data yang termasuk dalam setiap kelas. Semakin tinggi nilai Support, semakin banyak sampel aktual yang termasuk dalam kelas tersebut.</p>
</section>
<section id="f1--score" class="level3" data-number="1.5.5">
<h3 data-number="1.5.5" class="anchored" data-anchor-id="f1--score"><span class="header-section-number">1.5.5</span> 5. F1- Score</h3>
<p><span class="math inline">\(F1-Score = \frac{2.TP}{2.TP+FP+FN}\)</span></p>
<p>F1 adalah perbandingan rata-rata precsision dan recall</p>
</section>
<section id="classification-report" class="level3" data-number="1.5.6">
<h3 data-number="1.5.6" class="anchored" data-anchor-id="classification-report"><span class="header-section-number">1.5.6</span> Classification Report</h3>
<p>Mencetak Classification Report ke layar, yang berisi informasi tentang precision, recall, F1-score, dan metrik-metrik evaluasi lainnya untuk setiap kelas yang ada dalam data.</p>
<p><strong>1. Random Forest</strong></p>
<div class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> confusion_matrix,classification_report</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-scrolled="true" data-execution_count="49">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prediksi menggunakan model terbaik</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>best_rf_pred <span class="op">=</span> best_rf_model.predict(X_test_minmax)  <span class="co"># Gunakan salah satu skala,  Z-Score</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Matriks Konfusi</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>conf_matrix <span class="op">=</span> confusion_matrix(y_test, best_rf_pred)</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualisasi dengan Heatmap</span></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>sns.heatmap(conf_matrix, annot<span class="op">=</span><span class="va">True</span>, fmt<span class="op">=</span><span class="st">'d'</span>, cmap<span class="op">=</span><span class="st">'Blues'</span>, xticklabels<span class="op">=</span>label_encoder.classes_, yticklabels<span class="op">=</span>label_encoder.classes_)</span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Confusion Matrix Random Forest'</span>)</span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Prediksi'</span>)</span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Aktual'</span>)</span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="21041110004_DinaViolina_Firewall_files/figure-html/cell-59-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-scrolled="true" data-execution_count="58">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Matriks Konfusi</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>conf_matrix <span class="op">=</span> confusion_matrix(y_test, best_rf_pred)</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Mendapatkan nilai TN, FN, dan FP</span></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>TN <span class="op">=</span> conf_matrix[<span class="dv">0</span>, <span class="dv">0</span>]</span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>FP <span class="op">=</span> conf_matrix[<span class="dv">0</span>, <span class="dv">1</span>]</span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>FN <span class="op">=</span> conf_matrix[<span class="dv">1</span>, <span class="dv">0</span>]</span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a>TP <span class="op">=</span> conf_matrix[<span class="dv">1</span>, <span class="dv">1</span>]</span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"True Negative (TN):"</span>, TN)</span>
<span id="cb98-12"><a href="#cb98-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"False Positive (FP):"</span>, FP)</span>
<span id="cb98-13"><a href="#cb98-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"False Negative (FN):"</span>, FN)</span>
<span id="cb98-14"><a href="#cb98-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"True Positive (TP):"</span>, TP)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>True Negative (TN): 7434
False Positive (FP): 4
False Negative (FN): 0
True Positive (TP): 7443</code></pre>
</div>
</div>
<div class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prediksi dengan model terbaik</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>best_rf_pred <span class="op">=</span> best_rf_model.predict(X_test)</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluasi dengan precision, recall, dan F1-score</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>classification_rep <span class="op">=</span> classification_report(y_test, best_rf_pred)</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Classification Report:"</span>)</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(classification_rep)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\ASUS\anaconda3\lib\site-packages\sklearn\base.py:432: UserWarning: X has feature names, but RandomForestClassifier was fitted without feature names
  warnings.warn(
C:\Users\ASUS\anaconda3\lib\site-packages\sklearn\metrics\_classification.py:1344: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Classification Report:
              precision    recall  f1-score   support

       allow       0.88      0.99      0.93      7438
        deny       0.35      1.00      0.51      7451
        drop       0.00      0.00      0.00      7523
  reset-both       0.00      0.00      0.00      7540

    accuracy                           0.50     29952
   macro avg       0.31      0.50      0.36     29952
weighted avg       0.30      0.50      0.36     29952
</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\ASUS\anaconda3\lib\site-packages\sklearn\metrics\_classification.py:1344: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
C:\Users\ASUS\anaconda3\lib\site-packages\sklearn\metrics\_classification.py:1344: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))</code></pre>
</div>
</div>
</section>
</section>
<section id="deployment" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="deployment"><span class="header-section-number">1.6</span> Deployment</h2>
<p>PPPPada tahap deployment, menggunakan streamlit dengan file yang berekstensi <strong>.py</strong> . File yang dilakukan pengolahan yaitu sebagai berikut : - model normalisasi ZSCore yang disimpan dalam file pickle - model normalisasi MinMax yang disimpan dalam file pickle - model dengan algoritma terbaik pada pengolahan data ini yaitu Decission Tree</p>
<p> ini adalah link deployment : <a href:"https://firewall-data-b9autvvutmmagjumfnsbuc.streamlit.app/"></a> </p>
<p>LINK</p>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Preface</span>
      </a>          
  </div>

</nav>
</div> <!-- /content -->



</body></html>
